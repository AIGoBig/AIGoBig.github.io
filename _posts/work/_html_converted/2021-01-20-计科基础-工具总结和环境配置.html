<h1 id="环境搭建">环境搭建</h1>
<p>每次跑别人代码的时候，需要先用conda新建一个相同的环境以减少版本错误的出现，如：</p>
<pre><code>conda create -n MDL4OW tensorflow-gpu==1.9 keras==2.1.6   Python=3.6 </code></pre>
<h1 id="优秀的package">优秀的package</h1>
<h2 id="linux">Linux</h2>
<h3 id="tldr-命令行说明简化工具"><a href="https://github.com/tldr-pages/tldr">tldr</a>-命令行说明简化工具</h3>
<p>安装方式：</p>
<pre><code>npm install -g tldr</code></pre>
<p>使用方式：</p>
<pre><code>tldr &lt;commend&gt;</code></pre>
<h1 id="文件同步">文件同步</h1>
<p><a href="https://blog.csdn.net/renhanchi/article/details/93769003">如何使用Pycharm自动同步本地和远程服务器项目代码以及远程运行程序</a> <a href="https://www.jianshu.com/p/41d4ca00f4f3">访问远程Visdom</a></p>
<p>尝试: 1. 在pycharm上进行结构构件, 在pycharm-jupyter上进行变量间跳转等操作 2. 在网页jupyter进行jupyter程序条理性的笔记及运行结果 3. 如果有问题使用jupyterlab或者改为pycharm文件进行调试.</p>
<h1 id="python-package文件">Python package文件</h1>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="im">import</span> csv</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="im">import</span> os</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="im">from</span> time <span class="im">import</span> time</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="im">from</span> tqdm <span class="im">import</span> tqdm</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="im">import</span> numpy <span class="im">as</span> np</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="im">import</span> torch <span class="im">as</span> t</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="im">import</span> torch.nn <span class="im">as</span> nn</a>
<a class="sourceLine" id="cb4-10" data-line-number="10"></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</a>
<a class="sourceLine" id="cb4-12" data-line-number="12">plt.style.use(<span class="st">&#39;seaborn&#39;</span>) <span class="co"># 设置使用的样式</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="im">from</span> utils_my <span class="im">import</span> crash_on_ipy</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">crash_on_ipy()</a></code></pre></div>
<h2 id="plot-package">Plot package</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">plt.style.use(<span class="st">&#39;seaborn&#39;</span>) <span class="co"># 设置使用的样式</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co"># plt.style.use([&#39;science&#39;, &#39;no-latex&#39;])</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># %config InlineBackend.figure_format = &#39;svg&#39;</span></a></code></pre></div>
<h2 id="sklearn-package">sklearn package</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" data-line-number="1"> </a></code></pre></div>
<h2 id="keras-package">Keras package</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="im">import</span> keras</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="im">from</span> keras.layers <span class="im">import</span> Conv2D, Conv3D, Flatten, Dense, Reshape, BatchNormalization</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="im">from</span> keras.layers <span class="im">import</span> Dropout, Input</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="im">from</span> keras.models <span class="im">import</span> Model</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="im">from</span> keras.optimizers <span class="im">import</span> Adam</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="im">from</span> keras.callbacks <span class="im">import</span> ModelCheckpoint</a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="im">from</span> keras.utils <span class="im">import</span> np_utils</a></code></pre></div>
<h2 id="hsi-package">HSI package</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="im">import</span> scipy.io <span class="im">as</span> sio</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="im">import</span> spectral</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="im">from</span> operator <span class="im">import</span> truediv</a></code></pre></div>
<h2 id="add-my-package">Add my package</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="im">import</span> sys</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">sys.path.append(<span class="st">&quot;/mnt/StuFile/Sqh&quot;</span>)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="im">from</span> utils_my <span class="im">import</span> HSI_preprocess <span class="im">as</span> hsipre</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="bu">help</span>(hsipre)</a></code></pre></div>
<h1 id="markdown-技巧">Markdown 技巧</h1>
<h2 id="readme-书写">README 书写</h2>
<pre><code>tree -I node_modules &gt; tree.text</code></pre>
<h1 id="codeing-技巧">Codeing 技巧</h1>
<h2 id="原理类">原理类</h2>
<p><a href="http://www.pythontutor.com/visualize.html#mode=display">pythontutor-内存可视化</a></p>
<h1 id="git-技巧">Git 技巧</h1>
<h2 id="问题解决">问题解决</h2>
<h3 id="git恢复">git恢复</h3>
<p><a href="https://www.cnblogs.com/windseek/p/9296773.html">git恢复到上次提交</a></p>
<h3 id="存在代理占用端口时git的connection-refused的错误的解决">存在代理占用端口时git的connection refused的错误的解决</h3>
<p><a href="https://blog.csdn.net/weixin_41010198/article/details/87929622">解决git下载出现：Failed to connect to 127.0.0.1 port 1080: Connection refused拒绝连接错误</a></p>
<pre><code># 查询
git config --global http.proxy 
env|grep -I proxy

# 取消代理设置
git config --global --unset http.proxy
git config --global --unset https.proxy</code></pre>
<h1 id="gpu可用性检测">GPU可用性检测</h1>
<p>tf：</p>
<pre><code>import tensorflow
print(tensorflow.test.is_gpu_available())
tf.config.list_physical_devices(&#39;GPU&#39;)</code></pre>
<pre><code>import tensorflow as tf
tf.test.gpu_device_name()</code></pre>
<p>torch：</p>
<pre><code>import torch
torch.zeros(1).cuda()</code></pre>
<p>显示显卡信息：</p>
<pre><code>watch -n 1 nvidia-smi</code></pre>
<h1 id="linux-相关">linux 相关</h1>
<h2 id="进入桌面">进入桌面</h2>
<p>sudo service lightdm start</p>
<p>ubuntu20.04，Cuda11.0，需要安装1.9版本的</p>
<h1 id="tensorflow版本">TensorFlow版本</h1>
<figure>
<img src="/img/in-post/20_07/image-20210426151025061.png" alt="image-20210426151025061" /><figcaption>image-20210426151025061</figcaption>
</figure>
<h1 id="windows配置">Windows配置</h1>
<h2 id="cuda">cuda</h2>
<p><a href="https://blog.csdn.net/zhouchen1998/article/details/107716721">Windows系统CUDA10.2+CUDNN安装教程</a></p>
<h2 id="windows版top">windows版top</h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode powershell"><code class="sourceCode powershell"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">While</span>(1) {<span class="fu">ps</span> | <span class="fu">sort</span> -des cpu | <span class="fu">select</span> -f 15 | <span class="fu">ft</span> -a; <span class="fu">sleep</span> 1; <span class="fu">cls</span>}</a></code></pre></div>
<h1 id="报错解决">报错解决</h1>
<h2 id="cuda版本升级---cuda11安装使用">cuda版本升级 - cuda11安装使用</h2>
<p>安装30系列显卡后，继续使用cuda10会出现问题，由于显卡架构原因需要升级cuda版本为11.0及以上。报错：</p>
<pre><code>GeForce RTX 3080 with CUDA capability sm_86 is not compatible with the current PyTorch installation. The current PyTorch install supports CUDA capabilities sm_37 sm_50 sm_60 sm_61 sm_70 sm_75 compute_37.</code></pre>
<p>系统版本：ubuntu20.04</p>
<ol type="1">
<li><p><a href="https://www.nvidia.com/Download/index.aspx#">Nvidia官网</a>下载最新显卡驱动</p>
<blockquote>
<p><a href="https://blog.csdn.net/TracelessLe/article/details/112687973">Ubuntu20.04上3090显卡安装Nvidia驱动和CUDA11.1及cuDNN8.0.4</a></p>
</blockquote></li>
<li><p>下载合适的cuda版本，我下的11.0</p></li>
<li><p>下载对应的cudnn版本，我的为8.0.5</p></li>
<li><p>测试是否成功</p></li>
<li><p>安装需要的框架：</p></li>
</ol>
<p>TensorFlow：</p>
<pre><code>pip install tensorflow==2.4.0rc0 -i https://pypi.doubanio.com/simple/ #GPU版本的，如果下载慢建议换源</code></pre>
<p>Pytorch：</p>
<pre><code>conda install pytorch torchvision torchaudio cudatoolkit=11.0 -c pytorch</code></pre>
<h2 id="cuda驱动安装">cuda驱动安装</h2>
<p>报错：</p>
<pre><code>Failed to initialize the CUDA platform: CudaError: The driver version is too low (error 30). Bminer requires 375.26 or later to work </code></pre>
<p>用cuda() 时：</p>
<pre><code>RuntimeError: CUDA unknown error - this may be due to an incorrectly set up environment, e.g. changing env variable CUDA_VISIBLE_DEVICES after program start. Setting the available devices to be zero.</code></pre>
<h2 id="mac-软件问题">mac 软件问题</h2>
<p><img src="/img/in-post/20_07/image-20210426105851885.png" alt="image-20210426105851885" style="zoom:50%;" /></p>
