---
layout: post
comments: true
mathjax: false
author: "Sun"
header-style: text
tags:
  - Linux
  - è®¡ç§‘åŸºç¡€
  - summary
catalog: true
---

# å¸¸ç”¨å‘½ä»¤

## å‘½ä»¤ç®€ä»‹

ä¸€æ¡å‘½ä»¤åŒ…æ‹¬ Command Nameã€Optionsã€Argumentsã€Extras å››ä¸ªéƒ¨åˆ†

1. command name
2. Options éƒ¨åˆ†ç”¨-ä½œä¸ºå‰å¯¼ç¬¦ã€‚
3. Arguments éƒ¨åˆ†ç”¨æ¥ç»†åŒ–è¿™ä¸ªå‘½ä»¤æˆ–æŒ‡å®šè¿™ä¸ªå‘½ä»¤å…·ä½“çš„å®æ–½å¯¹è±¡
4. Extras éƒ¨åˆ†åˆ™ç”¨æ¥è¿›ä¸€æ­¥å®ç°å…¶ä»–åŠŸèƒ½ã€‚

> Options éƒ¨åˆ†ç”¨`-`ä½œä¸ºå‰å¯¼ç¬¦ã€‚å…¶ä¸­è®¸å¤šå‘½ä»¤çš„ Options éƒ¨åˆ†åªåŒ…å«å•ä¸ªå­—æ¯ï¼Œè¿™æ—¶å¯ä»¥åˆå¹¶ã€‚ä¾‹å¦‚ï¼Œ`ls -lA`å’Œ`ls -l -A`æ˜¯ç­‰æ•ˆçš„ã€‚
>
> Arguments éƒ¨åˆ†ç”¨æ¥ç»†åŒ–è¿™ä¸ªå‘½ä»¤æˆ–æŒ‡å®šè¿™ä¸ªå‘½ä»¤å…·ä½“çš„å®æ–½å¯¹è±¡ï¼Œ
>
> Extras éƒ¨åˆ†åˆ™ç”¨æ¥è¿›ä¸€æ­¥å®ç°å…¶ä»–åŠŸèƒ½ã€‚

## å¸®åŠ©å‘½ä»¤

â€‹		man CommendName
â€‹		man -K Keyword

## æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯

lsblkã€ df -h

https://tlanyan.me/linux-list-disk-info-summary/

## è·¯å¾„

1. ç»å¯¹è·¯å¾„ /å¼€å¤´ï¼› ç›¸å¯¹è·¯å¾„ ./æˆ–çœç•¥

2. å¦‚æœç›®å½•ä¸­æœ‰ç‰¹æ®Šå­—ç¬¦ï¼ˆç©ºæ ¼ï¼Œæ‹¬å·ï¼Œå¼•å·ï¼Œ[]ï¼Œ!ï¼Œ$ï¼Œ&ï¼Œ*ï¼Œ;ï¼Œ|ï¼Œ\ï¼‰

   ```
   		cd Punlic/Drop\ Box/
   		cd "Public/Drop Box"
   ```

## æ–‡ä»¶æ“ä½œ

1. æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶`ls -A `
2. æ–‡ä»¶å†…å®¹è¾“å‡ºåˆ°terminal â€” `less`
3. æŸ¥æ‰¾æ–‡ä»¶å†…å®¹ â€” `which`
4. å®šä½å‘½ä»¤ä½ç½® â€” `find`
   1. find + ä½ç½® + -name â€åå­—â€œ
   2. -x é¿å…æœç´¢volume
5. é€šé…ç¬¦
   1. æ˜Ÿå·ï¼ˆï¼Šï¼ŒAsteriskï¼‰â€”â€”ä»£è¡¨ä»»ä½•é•¿åº¦çš„ä»»ä½•å­—ç¬¦ã€‚ä¾‹å¦‚*.tiffä»£è¡¨æ‰€æœ‰æ ¼å¼ä¸ºtiffçš„æ–‡ä»¶ã€‚
   2. é—®å·ï¼ˆ?ï¼ŒQuestion markï¼‰â€”â€”ä»£è¡¨ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚b?okåŒ¹é… book ä½†æ˜¯ä¸åŒ¹é… brookã€‚
   3. æ–¹æ‹¬å·ï¼ˆ[]ï¼ŒSquare bracketsï¼‰â€”â€”å®šä¹‰ä¸€å®šèŒƒå›´çš„å­—ç¬¦ï¼Œä¾‹å¦‚[Dd]ocumentåŒ¹é… Document ä»¥åŠ documentï¼›doc[1-9]åŒ¹é…doc1, doc2, â€¦, doc9ã€‚
6. ç¼–è¾‘æ–‡ä»¶ã€æ–‡ä»¶å¤¹ â€” `mkdir` 
   1. -p ä¸€èµ·åˆ›å»ºä¸å­˜åœ¨çš„æ–‡ä»¶å¤¹
7. æ‰“å¼€å½“å‰æ–‡ä»¶å¤¹ â€” `open .` 
8. cp, mv 
   1. å¤åˆ¶ï¼Œå‰ªåˆ‡æ“ä½œ
   2. **å¦‚æœä»…æŒ‡å®šæ–°æ–‡ä»¶åï¼Œå®ƒå°±æˆäº†é‡å‘½åå‘½ä»¤**

## è¿‡æ»¤

è¿‡æ»¤å‡º /etc/passwd **æ–‡ä»¶ä¸­**åŒ…å« root çš„è®°å½•

```
grep 'root' /etc/passwd
```

é€’å½’åœ°è¿‡æ»¤å‡º /var/log/ **ç›®å½•**ä¸­åŒ…å« linux çš„è®°å½•

```
grep -r 'linux' /var/log/
```

## ç®¡é“

ç®€å•æ¥è¯´, Linux ä¸­ç®¡é“çš„ä½œç”¨æ˜¯å°†ä¸Šä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥, åƒ pipe ä¸€æ ·å°†å„ä¸ªå‘½ä»¤ä¸²è”èµ·æ¥æ‰§è¡Œ, ç®¡é“çš„æ“ä½œç¬¦æ˜¯ | æ¯”å¦‚, æˆ‘ä»¬å¯ä»¥å°† cat å’Œ grep ä¸¤ä¸ªå‘½ä»¤ç”¨ç®¡é“ç»„åˆåœ¨ä¸€èµ·

```
cat /etc/passwd | grep 'root'
```

è¿‡æ»¤å‡º /etc ç›®å½•ä¸­åå­—åŒ…å« ssh çš„ç›®å½•(ä¸åŒ…æ‹¬å­ç›®å½•)

```
ls /etc | grep 'ssh'
```

## é‡å®šå‘

å¯ä»¥ä½¿ç”¨ > æˆ– < å°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­

```
echo 'Hello World' > ~/test.txt
```

## ping å‘½ä»¤-è¿ç»´å¸¸ç”¨å‘½ä»¤

å¯¹ cloud.tencent.com å‘é€ 4 ä¸ª ping åŒ…, æ£€æŸ¥ä¸å…¶æ˜¯å¦è”é€š

```
ping -c 4 cloud.tencent.com
```

## ğŸš©netstat å‘½ä»¤-è¿ç»´å¸¸ç”¨å‘½ä»¤

netstat å‘½ä»¤ç”¨äºæ˜¾ç¤ºå„ç§ç½‘ç»œç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç½‘ç»œè¿æ¥, è·¯ç”±è¡¨, æ¥å£çŠ¶æ€ç­‰ç­‰ åˆ—å‡ºæ‰€æœ‰å¤„äºç›‘å¬çŠ¶æ€çš„tcpç«¯å£ï¼ˆå¦‚æœå‡ºç°ï¼šnetstat: command not foundã€‚ è¯·ä½¿ç”¨å‘½ä»¤ï¼šyum install net-tools å®‰è£…æ‰€éœ€å·¥å…·åŒ…ï¼‰

```
netstat -lt
```

æŸ¥çœ‹**æ‰€æœ‰çš„ç«¯å£ä¿¡æ¯**, åŒ…æ‹¬ PID å’Œè¿›ç¨‹åç§°

```
netstat -tulpn
```

## ps å‘½ä»¤-è¿ç»´å¸¸ç”¨å‘½ä»¤

è¿‡æ»¤å¾—åˆ°å½“å‰ç³»ç»Ÿä¸­çš„ ssh è¿›ç¨‹ä¿¡æ¯

```
ps aux | grep 'ssh'
```

![img](https:////upload-images.jianshu.io/upload_images/2584637-6dcfb94ed01e9a90.png?imageMogr2/auto-orient/strip|imageView2/2/w/618/format/webp)

- USERï¼šè¯¥ process å±äºå“ªä¸ªä½¿ç”¨è€…å¸å·çš„ï¼Ÿ
- PID ï¼šè¯¥ process çš„è¿›ç¨‹è¯†åˆ«ç ã€‚
- %CPUï¼šè¯¥ process ä½¿ç”¨æ‰çš„ **CPU èµ„æºç™¾åˆ†æ¯”**ï¼›
- %MEMï¼šè¯¥ process æ‰€å ç”¨çš„**å®ä½“å†…å­˜ç™¾åˆ†æ¯”**ï¼›
- VSZ ï¼šè¯¥ process ä½¿ç”¨æ‰çš„è™šæ‹Ÿå†…å­˜é‡ (Kbytes)
- RSS ï¼šè¯¥ process å ç”¨çš„å›ºå®šçš„å†…å­˜é‡ (Kbytes)
- TTY ï¼šè¯¥ process æ˜¯åœ¨é‚£å€‹ç»ˆç«¯ä¸Šé¢è¿ä½œ
- STATï¼šè¯¥è¿›ç¨‹ç›®å‰çš„çŠ¶æ€ (R/S/T/Z)
- STARTï¼šè¯¥ process è¢«è§¦å‘å¯åŠ¨çš„æ—¶é—´ï¼›
- TIME ï¼šè¯¥ process å®é™…ä½¿ç”¨ CPU è¿è¡Œçš„æ—¶é—´ã€‚
- COMMANDï¼šè¯¥ç¨‹åºçš„å®é™…æŒ‡ä»¤ä¸ºä½•ï¼Ÿ

## top æŸ¥çœ‹å’Œç®¡ç†è¿›ç¨‹

topæˆ–htop

## ps aux å’Œtop åŒºåˆ«

`ps`-è¯»å–è¿‡ç¨‹ä¿¡æ¯
`top`-èµ„æºç›‘æ§ï¼Œä¾‹å¦‚ä½¿ç”¨cpuçš„é¡¶çº§èµ„æºï¼Œå†…å­˜ä½¿ç”¨æƒ…å†µç­‰ç­‰ã€‚



## æŠ€å·§

### æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ â€” gedit

```
sudo -H gedit jupyter_notebook_config.py 
```

### æ‰§è¡Œè„šæœ¬æ–‡ä»¶ â€” bash

```
bash SSR.sh
```

### æ—¥å† â€” cal

- cal 8 2018

### å†å²è®°å½• â€” history

### æ¸…å± â€” ctrl+L

### é€€å‡ºåŠæ¸…å±

- ä½¿ç”¨`control+C` å¯ä»¥ç»ˆæ­¢æŒç»­è¿›è¡Œçš„å‘½ä»¤ï¼Œä¾‹å¦‚pingå‘½ä»¤ã€‚
- ä½¿ç”¨`control+D`æˆ–è€…`exit`å‘½ä»¤å¯ä»¥ç»“æŸå½“å‰çŠ¶æ€ï¼Œä¾‹å¦‚ç»“æŸsshçš„è¿œç¨‹é“¾æ¥ã€‚
- ä½¿ç”¨`control+L`æˆ–è€…`clear`å‘½ä»¤å¯ä»¥**æ¸…å±**ï¼Œä¸resetå‘½ä»¤ä¸åŒçš„æ˜¯ï¼Œclearå¯ä»¥æ»šåŠ¨æŸ¥çœ‹ä¹‹å‰çš„å†…å®¹ï¼Œè€Œ`reset`åˆ™æ˜¯å®Œå…¨æ¸…é™¤å†…å®¹ã€‚

### history 

- æŸ¥è¯¢å†å²
- histroy 10

## condaå‘½ä»¤

### which conda

- æŸ¥è¯¢ä½ç½®

### conda list nltk

- æŸ¥è¯¢åŒ…çš„ä½ç½®

## å®‰è£…

1. `brew install`

2. `wget` +  ä¸‹è½½é“¾æ¥
3. `apt-get install`

## jupyterè¿œç¨‹å¼€æ”¾

# é—®é¢˜è§£å†³

## ç½‘ç»œç›¸å…³

Unable to determine SOCKS version from socks://127.0.0.1:1081/

-   unset all_proxy && unset ALL_PROXY

## æŒ‰é”®æ˜ å°„ 

http://yesqin.com/posts/ruby_nice/nice_linux_key_to_mac

remove mod1 = Alt_L

remove mod4 = Super_L
keycode 64 = Alt_L
keycode 133 = Super_L
add mod1 = Alt_L  
add mod4 = Super_L

```
cd ~
sudo vi .Xmodmap
xmodmap .Xmodmap
```

## æ–°å»ºå¿«æ·æ–¹å¼

## MySQLç”¨æˆ·æƒé™é—®é¢˜-error codeï¼š111

```
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%'IDENTIFIED BY '123' WITH GRANT OPTION;
syntax to use near 'IDENTIFIED BY '' WITH GRANT OPTION' at line 1
grant all privileges on *.* to 'roott'@'localhost' with grant option;
ALTER USER 'root'@'localhost' IDENTIFIED BY '123456';
set password for root@localhost='123456';

sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf 
sudo /etc/init.d/mysql stop
sudo /etc/init.d/mysql start
CREATE USER  'roott'@'localhost' IDENTIFIED BY '123456';

update mysql.user set authentication_string=password('123456') where user='root';

ysql  Ver 8.0.22 for Linux on x86_64 (MySQL Community Server - GPL)
flush privileges;
```

## Windows ä¸‹çš„ topå‘½ä»¤è§£å†³æ–¹æ¡ˆ

```shell
While(1) {ps | sort -des cpu | select -f 15 | ft -a; sleep 1; cls}
```

è¿™æ˜¯ä½¿ç”¨çš„ç¼©çŸ­å‘½ä»¤çš„æ˜ç»†

- select -fæ˜¯-firstçš„å¿«æ·æ–¹å¼
- ftæ˜¯Format-Tableçš„å¿«æ·æ–¹å¼
- -aæ˜¯-autosizeçš„å¿«æ·æ–¹å¼
- ç¡çœ é»˜è®¤ä¸ºä½¿ç”¨ç§’

## ä¸»æœºæ˜¾å¡é©±åŠ¨å®‰è£…



![image-20210425154255278](/img/in-post/20_07/image-20210425154255278.png)



# å¤šç”¨æˆ·

**ä¸€ä¸ªç”¨æˆ·å¯ä»¥å±äºå¤šä¸ªç»„ï¼Œä¸€ä¸ªç»„å¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·ï¼Œç”¨æˆ·å’Œç»„æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚**

linuxçš„å¤šç”¨æˆ·å¤šåˆ†ç»„ç®¡ç†ç³»ç»Ÿéƒ½æ˜¯**é’ˆå¯¹æ–‡ä»¶**æ¥è¯´çš„ï¼Œ**æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰æ‰€å±çš„ç”¨æˆ·å’Œæ‰€å±çš„åˆ†ç»„ã€‚**

## ç”¨æˆ·ç§ç±»

linuxç³»ç»Ÿæ˜¯**æ ¹æ®ç”¨æˆ·UIDæ¥è¯†åˆ«ç”¨æˆ·çš„**ï¼Œå¹¶ä¸æ˜¯æ ¹æ®ç”¨æˆ·åã€‚linuxç”¨æˆ·åˆ†ä¸ºä»¥ä¸‹3ç§ï¼š

- **rootç”¨æˆ·ï¼Œä¹Ÿå«è¶…çº§ç”¨æˆ·(UIDä¸º0)**ï¼šè¯¥ç”¨æˆ·å…·æœ‰æœ€é«˜æƒé™ï¼Œ**å¯ä»¥æ“ä½œä»»ä½•æ–‡ä»¶ï¼Œå°½ç®¡æ–‡ä»¶æƒé™æ˜¯000ã€‚**åœ¨linuxå­—ç¬¦æ“ä½œé¡µé¢ä¸­ï¼Œrootè´¦å·çš„æç¤ºç¬¦ä¸º**#**ã€‚
- **ç³»ç»Ÿç”¨æˆ·(UIDä¸º1-499)**ï¼šç³»ç»Ÿç”¨æˆ·æ˜¯linuxç³»ç»Ÿæ­£å¸¸è¿è¡Œçš„å†…å»ºç”¨æˆ·ï¼Œ**é€šå¸¸æ˜¯ä¸ºäº†ç®¡ç†æŸç§æœåŠ¡**ï¼Œå¦‚ftpæœåŠ¡ï¼Œä»¥åŠsshdæœåŠ¡ç­‰ã€‚**ç³»ç»Ÿç”¨æˆ·æ˜¯ä¸èƒ½ç”¨æ¥ç™»å½•çš„**ã€‚
- **æ™®é€šç”¨æˆ·(UIDå¤§äº500)**ï¼šæ™®é€šç”¨æˆ·æ˜¯ä¸ºäº†åˆç†ç®¡ç†linuxèµ„æºè€Œå»ºç«‹çš„ç”¨æˆ·ã€‚åœ¨linuxçš„å­—ç¬¦æ“ä½œé¡µé¢ï¼Œæ™®é€šç”¨æˆ·çš„æç¤ºç¬¦ä¸€èˆ¬ä¸º**$**ã€‚

## æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·

- åœ¨/etc/passwdæ–‡ä»¶ä¸­å­˜å‚¨ç€ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹

```undefined
cat /etc/passwd
```

<img src="https:////upload-images.jianshu.io/upload_images/15579250-112d5cfddef75676.png?imageMogr2/auto-orient/strip|imageView2/2/w/944/format/webp" alt="img" style="zoom:50%;" />



> æ¯è¡Œæ•°æ®ä¸ºä¸€ä¸ªç”¨æˆ·ï¼Œå¯ä»¥çœ‹åˆ°çº¢è‰²éƒ¨åˆ†ä¸ºrootè¶…çº§ç”¨æˆ·ï¼Œè“è‰²éƒ¨åˆ†ä¸ºç³»ç»Ÿç”¨æˆ·ï¼Œç»¿è‰²éƒ¨åˆ†ä¸ºæ™®é€šç”¨æˆ·ã€‚
>
> å¯ä»¥çœ‹å‡ºå›¾ç‰‡ä¸­æ¯è¡Œæ•°æ®**å¤§è‡´7æ®µ**ï¼Œä½¿ç”¨ï¼šä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š**ç”¨æˆ·åï¼šXï¼šUID(ç”¨æˆ·id)ï¼šGID(ç»„id)ï¼šç”¨æˆ·è¯´æ˜ï¼šç”¨æˆ·å®¶ç›®å½•ï¼šShellç‰ˆæœ¬**
>
> 1. ç”¨æˆ·åï¼šç”¨æˆ·ååªæ˜¯ç®¡ç†å‘˜æ–¹ä¾¿è®°å¿†ï¼Œ**ç³»ç»Ÿæ˜¯æ ¹æ®UIDæ¥è¯†åˆ«ç”¨æˆ·çš„**ã€‚ä½¿ç”¨å‘½ä»¤`useradd userName`æˆ–è€…`adduser userName`æ¥åˆ›å»ºæ–°çš„ç”¨æˆ·
>
> 2. x: ä»£è¡¨çš„æ˜¯**å¯†ç æ ‡å¿—**ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å¯†ç ã€‚å¦‚æœç¬¬äºŒæ®µæ˜¯xåˆ™ä»£è¡¨è¯¥ç”¨æˆ·æœ‰å¯†ç ï¼Œå¦‚æœæ²¡æœ‰xåˆ™ä»£è¡¨è¯¥ç”¨æˆ·æ²¡æœ‰å¯†ç ã€‚ç”¨æˆ·çœŸæ­£çš„å¯†ç ä¿å­˜åœ¨/etc/shadowæ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶çš„æƒé™æ˜¯`000`,ä¹Ÿå°±æ˜¯è¯´åªæœ‰rootç”¨æˆ·æ‰èƒ½æŸ¥çœ‹ã€‚
>
> 3. UID:ç”¨æˆ·idï¼Œè¦çŸ¥é“linuxç³»ç»Ÿå°±æ˜¯é€šè¿‡ç”¨æˆ·idæ¥è¯†åˆ«ä¸åŒçš„ç”¨æˆ·å’Œåˆ†é…ä¸åŒçš„æƒé™çš„ã€‚
>
> 4. GID:æ­¤å­—æ®µæ„æ€ä¸ºç»„idï¼Œæ›´ç¡®åˆ‡çš„è¯´æ˜¯`åˆå§‹ç»„id`ã€‚è¯´åˆ°åˆå§‹ç»„å°±å¾—è¯´è¯´`åˆå§‹ç»„`å’Œ`é™„åŠ ç»„`çš„æ¦‚å¿µäº†ã€‚
>
>    1.  æ‰€è°“åˆå§‹ç»„ï¼Œæ–°å»ºä¸€ä¸ªç”¨æˆ·åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ–°å»ºä¸€ä¸ªä¸è¯¥ç”¨æˆ·åç›¸åŒçš„ç»„ï¼Œå¹¶å°†è¯¥ç”¨æˆ·åˆ†é…åˆ°è¯¥ç»„ä¸­ï¼Œè¯¥ç»„å°±æ˜¯è¯¥ç”¨æˆ·çš„åˆå§‹ç»„ã€‚æ¯ä¸ªç”¨æˆ·çš„åˆå§‹ç»„åªèƒ½æœ‰ä¸€ä¸ªï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æ‰‹å·¥æ·»åŠ ç”¨æˆ·`useradd lamp`ï¼Œåœ¨å»ºç«‹ç”¨æˆ· lamp çš„åŒæ—¶ä¹Ÿä¼šåˆ›å»ºlampçš„ç»„åã€‚è¿˜æœ‰ä¸€ä¸ªæ³¨æ„çš„ç‚¹ï¼Œå°±æ˜¯æ–°å»ºç”¨æˆ·çš„UIDå’ŒGIDä¸€èˆ¬æ˜¯ç›¸åŒçš„ã€‚
>    2.  æ‰€è°“é™„åŠ ç»„ï¼šæŒ‡ç”¨æˆ·åæœŸå¯ä»¥åŠ å…¥å¤šä¸ªå…¶ä»–çš„ç”¨æˆ·ç»„ï¼Œå¹¶æ‹¥æœ‰è¿™äº›ç»„çš„æƒé™ã€‚æ¯ä¸ªç”¨æˆ·åªèƒ½æœ‰ä¸€ä¸ªåˆå§‹ç»„ï¼Œé™„åŠ ç»„å´å¯ä»¥æœ‰å¤šä¸ªï¼Œæ­¤æ—¶ç”¨æˆ·çš„æƒé™å°±æ˜¯åˆå§‹ç»„çš„æƒé™+é™„å±ç»„çš„æƒé™ã€‚
>        éœ€è¦æ³¨æ„ï¼šåœ¨ /etc/passwd æ–‡ä»¶çš„ç¬¬å››ä¸ªå­—æ®µä¸­çœ‹åˆ°çš„ ID æ˜¯è¿™ä¸ªç”¨æˆ·çš„åˆå§‹ç»„ã€‚
>
> 5. ç”¨æˆ·è¯´æ˜ï¼šè¿™ä¸ªç”¨æˆ·çš„ç®€å•è¯´æ˜ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šä½œç”¨ï¼Œå¯ä»¥ä¸å†™ã€‚
>
> 6. ç”¨æˆ·å®¶ç›®å½•ï¼š
>
>    **ä¹Ÿå°±æ˜¯ç”¨æˆ·ç™»å½•åæœ‰æ“ä½œæƒé™çš„è®¿é—®ç›®å½•ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªç›®å½•ç§°ä¸ºç”¨æˆ·çš„å®¶ç›®å½•ã€‚**
>
>    **é€šå¸¸éƒ½ä¼šåœ¨/homeä¸‹è‡ªåŠ¨åˆ›å»ºä¸ç”¨æˆ·ååŒåçš„ç”¨æˆ·å®¶ç›®å½•**
>
>    ä¸¾ä¸ªä¾‹å­ï¼Œåˆ›å»ºæ–°ç”¨æˆ·useradd db,è¿™æ˜¯ç”¨æˆ·dbçš„å®¶ç›®å½•æ˜¯/home/db
>
>    ç®€å•è¯´å°±æ˜¯**rootç”¨æˆ·çš„å®¶ç›®å½•æ˜¯ /root ç›®å½•ï¼Œæ™®é€šç”¨æˆ·æ˜¯ /home/userNameä¸‹.**
>
>    **åœ¨linuxå­—ç¬¦æ“ä½œé¡µé¢çš„`~`å°±æ˜¯æŒ‡å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•ã€‚**
>
> 7. shellå‘½ä»¤ï¼š**linuxé»˜è®¤æ˜¯/bin/bash**,å†™è¿‡shellè„šæœ¬çš„éƒ½åº”è¯¥çŸ¥é“ã€‚
>
>    - **æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯å¯ä»¥æŸ¥çœ‹æ­¤æ–‡ä»¶çš„**ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹è¯¥æ–‡ä»¶çš„`ll`ã€‚
>
>    ```ruby
>    [db@002 ~]$ ll /etc/passwdll /etc/passwdll /etc/passwd
>    -rw-r--r-- 1 root root 1194 Feb 20 21:31 /etc/passwd
>    ```
>
>    æˆ‘ä»¬å¯ä»¥çœ‹åˆ°**è¯¥æ–‡ä»¶å±äºrootç”¨æˆ·å’Œrootç»„**ã€‚ç„¶å**rootç”¨æˆ·æƒé™æ˜¯rw-**ï¼Œrootç»„å†…æˆå‘˜çš„æƒé™æ˜¯r--,è€Œå…¶ä»–ç”¨æˆ·çš„æƒé™æ˜¯r--ã€‚ç”±äºå…¶ä»–ç”¨æˆ·çš„æƒé™éƒ½æ˜¯r--ï¼Œ**æ‰€ä»¥ä»»ä½•ç”¨æˆ·éƒ½æ˜¯å¯ä»¥è¯»çš„ã€‚**

## èµ‹äºˆrootæƒé™

> /etc/sudoers
>
> ```ruby
> # This file MUST be edited with the 'visudo' command as root.
> #
> # Please consider adding local content in /etc/sudoers.d/ instead of
> # directly modifying this file.
> #
> # See the man page for details on how to write a sudoers file.
> #
> Defaults        env_reset
> Defaults        mail_badpass
> Defaults        secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"
> 
> # Host alias specification
> 
> # User alias specification
> 
> # Cmnd alias specification
> 
> # User privilege specification
> root    ALL=(ALL:ALL) ALL
> 
> # Members of the admin group may gain root privileges
> %admin ALL=(ALL) ALL
> 
> # Allow members of group sudo to execute any command
> %sudo   ALL=(ALL:ALL) ALL
> 
> # See sudoers(5) for more information on "#include" directives:
> 
> #includedir /etc/sudoers.d
> ```

**æ–¹æ³•ä¸€**ï¼šä¿®æ”¹ /etc/sudoers æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä¸€è¡Œï¼ŒæŠŠå‰é¢çš„æ³¨é‡Šï¼ˆ#ï¼‰å»æ‰

\## Allows people in group wheel to run all commands
%wheel   ALL=(ALL)   ALL

ç„¶åä¿®æ”¹ç”¨æˆ·ï¼Œä½¿å…¶å±äºrootç»„ï¼ˆwheelï¼‰ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

\#usermod -g root tommy

ä¿®æ”¹å®Œæ¯•ï¼Œç°åœ¨å¯ä»¥ç”¨tommyå¸å·ç™»å½•ï¼Œç„¶åç”¨å‘½ä»¤ su â€“ ï¼Œå³å¯è·å¾—rootæƒé™è¿›è¡Œæ“ä½œã€‚

**æ–¹æ³•äºŒï¼š**ä¿®æ”¹ /etc/sudoers æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä¸€è¡Œï¼Œåœ¨rootä¸‹é¢æ·»åŠ ä¸€è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

\## Allow root to run any commands anywhere
root   ALL=(ALL)    ALL
tommy  ALL=(ALL)    ALL

ä¿®æ”¹å®Œæ¯•ï¼Œç°åœ¨å¯ä»¥ç”¨tommyå¸å·ç™»å½•ï¼Œç„¶åç”¨å‘½ä»¤ sudo â€“ ï¼Œå³å¯è·å¾—rootæƒé™è¿›è¡Œæ“ä½œã€‚

**æ–¹æ³•ä¸‰ï¼š**ä¿®æ”¹ /etc/passwd æ–‡ä»¶ï¼Œæ‰¾åˆ°å¦‚ä¸‹è¡Œï¼ŒæŠŠç”¨æˆ·IDä¿®æ”¹ä¸º 0 ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```
tommy:x:0:33:tommy:/data/webroot:/bin/bash
```

> è¿™é‡Œä½ å¯ä»¥sudoersæ·»åŠ ä¸‹é¢å››è¡Œä¸­ä»»æ„ä¸€æ¡
> youuser ALL=(ALL) ALL                 å«ä¹‰ï¼šå…è®¸ç”¨æˆ·youuseræ‰§è¡Œsudoå‘½ä»¤(éœ€è¦è¾“å…¥å¯†ç )
> %youuser ALL=(ALL) ALL               å«ä¹‰ï¼šå…è®¸ç”¨æˆ·ç»„youuseré‡Œé¢çš„ç”¨æˆ·æ‰§è¡Œsudoå‘½ä»¤(éœ€è¦è¾“å…¥å¯†ç )
> youuser ALL=(ALL) NOPASSWD: ALL      å«ä¹‰ï¼šå…è®¸ç”¨æˆ·youuseræ‰§è¡Œsudoå‘½ä»¤,å¹¶ä¸”åœ¨æ‰§è¡Œçš„æ—¶å€™ä¸è¾“å…¥å¯†ç 
> %youuser ALL=(ALL) NOPASSWD: ALL     å«ä¹‰ï¼šå…è®¸ç”¨æˆ·ç»„youuseré‡Œé¢çš„ç”¨æˆ·æ‰§è¡Œsudoå‘½ä»¤,å¹¶ä¸”åœ¨æ‰§è¡Œçš„æ—¶å€™ä¸è¾“å…¥å¯†ç 

## å½“å‰ç™»å½•çš„æ‰€æœ‰ç”¨æˆ· â€” who 

- åˆ—å‡ºå½“å‰ç™»å½•çš„æ‰€æœ‰ç”¨æˆ·
- who am i

## ä¸ºrootè´¦æˆ·è®¾ç½®å¯†ç 

`sudo passwd root`

##  åˆ‡æ¢ç™»å½•ç”¨æˆ·

åˆ‡æ¢ç™»å½•ç”¨æˆ·ï¼šsu [username]

æˆ–è€…  sudo [username]

# ç”¨æˆ·ç»„

## æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç»„

åœ¨/etc/groupæ–‡ä»¶ä¸­å­˜å‚¨ç€ç³»ç»Ÿçš„æ‰€æœ‰ç»„,æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œå¦‚ä¸‹å›¾

<img src="https:////upload-images.jianshu.io/upload_images/15579250-b00337c32c4027c4.png?imageMogr2/auto-orient/strip|imageView2/2/w/546/format/webp" alt="img" style="zoom:50%;" />



å¤§è‡´åˆ†ä¸º4æ®µï¼š

1. ç»„åï¼šä¸Šé¢ä»‹ç»è¿‡ï¼Œä¸åœ¨èµ˜è¿°
2. å¯†ç ï¼šxä»£ç åŠ å¯†æ ‡ç¤ºï¼Œå’Œpasswdæ–‡ä»¶ä¸­ç±»ä¼¼ã€‚groupçš„ç»„å¯†ç ä¿å­˜åœ¨ /etc/gshadow æ–‡ä»¶ä¸­ã€‚
3. GID:ç»„id
4. **ç»„å†…æˆå‘˜**ï¼šæ­¤æ®µå¦‚æœä¸ºç©ºï¼Œåˆ™ä»£è¡¨è¯¥ç»„åªæœ‰ä¸€ä¸ªç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯ä¸ç»„åç›¸åŒçš„ç”¨æˆ·ã€‚å¦‚æœæœ‰å€¼ï¼Œåˆ™è¯´æ˜æ­¤ç»„ä¸­å«æœ‰ä¸è¯¥å€¼ç›¸åŒçš„ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤ç»„æ˜¯è¯¥ç”¨æˆ·çš„é™„å±ç»„ã€‚

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å›¾ä¸­mailåˆ†ç»„çš„ç¬¬4æ®µæœ‰å€¼ä¸ºpostfix,ä¹Ÿå°±æ˜¯postfixç”¨æˆ·åº”è¯¥æœ‰ä¿©ä¸ªåˆ†ç»„ï¼Œä¸€ä¸ªåˆå§‹ç»„å’Œä¸€ä¸ªé™„å±ç»„ï¼Œæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯



```swift
[root@002 home]# groups postfix
postfix : postfix mail
```

## å¯†ç æ–‡ä»¶ä»‹ç»

**ç”¨æˆ·å¯†ç æ–‡ä»¶shadowå’Œç»„å¯†ç æ–‡ä»¶gshadowçš„æƒé™éƒ½æ˜¯000**ï¼Œæ‰€æœ‰å…¶ä»–ç”¨æˆ·æ˜¯ä¸èƒ½æŸ¥çœ‹çš„ï¼Œ**åªæœ‰rootç”¨æˆ·æ‰å¯ä»¥æŸ¥çœ‹ï¼Œrootç”¨æˆ·ä¹Ÿæ˜¯ä¸èƒ½ä¿®æ”¹è¯¥æ–‡ä»¶çš„ã€‚**

```csharp
[root@002 ~]# ll /etc/gshadow
---------- 1 root root 457 Feb 21 18:03 /etc/gshadow
[root@002 ~]# ll /etc/shadow
---------- 1 root root 933 Feb 21 18:03 /etc/shadow
```

## æŸ¥çœ‹å½“å‰ç”¨æˆ·æ‰€åœ¨åˆ†ç»„

- ç›´æ¥ä½¿ç”¨`groups`å‘½ä»¤,**å¯ä»¥æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·çš„æ‰€æœ‰ç»„ï¼ˆåˆå§‹ç»„å’Œæ‰€å±ç»„ï¼‰**

```ruby
[db@002 ~]$ groups
root
```

- ä½¿ç”¨`groups userName`å‘½ä»¤æ¥æŸ¥çœ‹**æŒ‡å®šç”¨æˆ·**çš„æ‰€æœ‰ç»„(åˆå§‹ç»„å’Œæ‰€å±ç»„)ã€‚

```swift
[root@002 xiaoyu]# groups postfix
postfix : postfix mail
```

- ä½¿ç”¨`id`å‘½ä»¤æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·çš„æ‰€æœ‰ç»„(åˆå§‹ç»„å’Œæ‰€å±ç»„)ã€‚

```ruby
[db@002 ~]$ id
uid=1002(db) gid=0(root) groups=0(root)
```

- ä½¿ç”¨`id username`æ¥æŸ¥çœ‹æŒ‡å®šå½“å‰ç”¨æˆ·çš„æ‰€æœ‰ç»„(åˆå§‹ç»„å’Œæ‰€å±ç»„)ã€‚

```swift
[db@002 ~]$ id postfix
uid=89(postfix) gid=89(postfix) groups=89(postfix),12(mail)
```

postfixç”¨æˆ·æœ‰ä¿©ä¸ªæ‰€å±ç»„postfixå’Œmailã€‚ç”±æ­¤å¯è§ï¼Œuidæ˜¯æŒ‡ç”¨æˆ·id(ç”¨æˆ·åç§°)ï¼Œgidæ˜¯æŒ‡åˆå§‹ç»„id(åˆå§‹ç»„åç§°)ï¼Œgroupsæ˜¯æŒ‡åŒ…æ‹¬åˆå§‹ç»„åœ¨å†…çš„æ‰€æœ‰ç»„id(æ‰€æœ‰ç»„åç§°)

## æŸ¥çœ‹ç»„å†…çš„æ‰€æœ‰æˆå‘˜

æˆ‘ä»¬çŸ¥é“äº†/etc/groupæ–‡ä»¶çš„ç¬¬å››æ®µä¸º`ç»„å†…æˆå‘˜`ï¼Œæ‰€æœ‰æˆ‘ä»¬å¯ä»¥é€šè¿‡`grep`æ¥åŒ¹é…ç›¸å…³ç»„ã€‚æ¯”å¦‚æŸ¥è¯¢mailç»„å†…çš„æ‰€æœ‰æˆå‘˜ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°mailç»„å†…æœ‰mail,postfixå’Œtom3ä¸ªç”¨æˆ·ã€‚

```csharp
[db@002 ~]$ cat /etc/group | grep mail
mail:x:12:postfix,tom
```

ä¸Šé¢æ˜¯ä¸€ç§æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æŸ¥çœ‹ã€‚

```undefined
groupmems -l -g groupname
```

# ç”¨æˆ·ç®¡ç†

## æ·»åŠ æ™®é€šç”¨æˆ·å¹¶è®¾ç½®å¯†ç 

æ·»åŠ ç”¨æˆ·åªèƒ½rootç”¨æˆ·æ¥æ·»åŠ ï¼Œæ™®é€šç”¨æˆ·æ²¡æœ‰æƒé™ï¼Œæ·»åŠ ç”¨æˆ·æœ‰ä¿©ç§æ–¹å¼

- `useradd userName`
- **`adduser userName`**

> åœ¨centosç³»ç»Ÿä¸‹ï¼Œè¿™ä¿©ç§æ–¹å¼æ²¡æœ‰åŒºåˆ«ï¼Œéƒ½ä¼šåœ¨/homeä¸‹è‡ªåŠ¨åˆ›å»ºä¸ç”¨æˆ·ååŒåçš„ç”¨æˆ·ç›®å½•ï¼Œä¸”éƒ½æ˜¯éœ€è¦ä½¿ç”¨`passwd userName`å‘½ä»¤æ¥è®¾ç½®ç”¨æˆ·å¯†ç çš„ï¼Œåªæœ‰è®¾ç½®å®Œå¯†ç åæ‰å¯ä»¥æ­£å¸¸ç™»å½•ã€‚
>
> åœ¨ubuntuç³»ç»Ÿä¸‹ï¼Œè¿™ä¿©ç§æ–¹å¼æ˜¯æœ‰åŒºåˆ«çš„ï¼Œä½¿ç”¨`useradd userNameå‘½ä»¤`ä¸ä¼šåœ¨/homeä¸‹è‡ªåŠ¨åˆ›å»ºä¸ç”¨æˆ·ååŒåçš„ç”¨æˆ·ç›®å½•ï¼Œä¸”ä¸ä¼šè‡ªåŠ¨é€‰æ‹©shellç‰ˆæœ¬ï¼Œåç»­ä¹Ÿæ˜¯éœ€è¦ä½¿ç”¨`passwd usernameæ¥è®¾ç½®å¯†ç çš„`ã€‚
>
> è€Œä½¿ç”¨`adduser userName`å‘½ä»¤çš„è¯æ˜¯ä¼šåœ¨/homeç›®å½•ä¸‹**è‡ªåŠ¨åˆ›å»ºä¸ç”¨æˆ·ååŒåçš„ç”¨æˆ·ç›®å½•**ï¼Œä¹Ÿä¼šè‡ªåŠ¨é€‰æ‹©shellç‰ˆæœ¬ï¼Œä¸”ä¼š**è‡ªåŠ¨æç¤ºè¾“å…¥ç”¨æˆ·å¯†ç **ï¼Œå¯¹ç”¨æˆ·æ¯”è¾ƒå‹å¥½ï¼Œåç»­ä¸éœ€è¦åœ¨ä½¿ç”¨passwdæ¥è®¾ç½®å¯†ç ã€‚

## åˆ›å»º/ä¿®æ”¹ç”¨æˆ·å¯†ç 

```undefined
passwd username
```

## åˆ é™¤ç”¨æˆ·

åˆ é™¤ç”¨æˆ·ï¼Œå¹¶ä¸ä¼šåˆ é™¤ç”¨æˆ·ç›¸å…³çš„æ–‡ä»¶

```undefined
userdel userName
```

åˆ é™¤ç”¨æˆ·ä¸”ä¸€èµ·åˆ é™¤å®¶ç›®å½•

```undefined
userdel -r userName
```

## ç”¨æˆ·é‡å‘½å

1 . æ³¨é”€è¦é‡å‘½åçš„ç”¨æˆ·ï¼Œæ”¹ç”¨å…¶ä»–ç”¨æˆ·æˆ–ç®¡ç†å‘˜ç™»å½•ã€‚
2 . ä¿®æ”¹ç”¨æˆ·å

```
usermod -l æ–°å æ—§å
id æ—§ç”¨æˆ·å # ä¸å­˜åœ¨
id æ–°ç”¨æˆ·å # æ˜¾ç¤ºç”¨æˆ·åã€ç»„ç­‰ä¿¡æ¯123
```

3 . ä¿®æ”¹ç»„å

```
groupmod -n æ–°ç»„å æ—§ç»„å 
id æ–°ç”¨æˆ·å # æ˜¾ç¤ºç”¨æˆ·åã€ç»„ç­‰ä¿¡æ¯12
```

4 . ä¿®æ”¹æ–°ç”¨æˆ·åœ¨/homeä¸­çš„ç›®å½•å

```
usermod -d /home/ç›®å½•å -m æ–°ç”¨æˆ·å
id æ–°ç”¨æˆ·å # æ˜¾ç¤ºç”¨æˆ·åã€ç»„ç­‰ä¿¡æ¯
```









## æ·»åŠ æ–°ç»„

```undefined
groupadd groupname
```

## åˆ é™¤ç»„

```undefined
groupdel groupname
```

## ç»„å†…æ–°å¢ç”¨æˆ·(ç”¨æˆ·å¢åŠ é™„å±ç»„)

```undefined
groupmems -a username -g groupname
```

## groupmemsä»‹ç»

æ ¼å¼å¦‚ä¸‹ï¼š

```
groupmems [opentions] [action]
```

> å‚æ•°å¦‚ä¸‹:
>  -g æŒ‡å®šç»„ï¼ˆåªæœ‰rootå¯ä»¥ä½¿ç”¨ï¼‰
>  -a æŒ‡å®šç”¨æˆ·åŠ å…¥ç»„
>  -d ä»ç»„ä¸­åˆ é™¤è¯¥ç”¨æˆ·
>  -p ä»ç»„ä¸­æ¸…æ¥šæ‰€æœ‰æˆå‘˜
>  -l æ˜¾ç¤ºç»„æˆå‘˜åˆ—è¡¨

- groupmems -l -g root
   æ­¤å‘½ä»¤è¡¨ç¤ºæŸ¥çœ‹rootç»„ä¸­å­˜åœ¨çš„æˆå‘˜ï¼Œæˆå‘˜ä¸åŒ…æ‹¬ä¸ç»„ååŒåçš„ç”¨æˆ·ã€‚
- groupmems -a stusun -g root
   æ­¤å‘½ä»¤è¡¨ç¤ºå°†stusunç”¨æˆ·åŠ å…¥rootç»„ä¸­ã€‚

# æƒé™

linuxä¸­æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯æœ‰æƒé™çš„ã€‚**æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰è‡ªå·±çš„æ‰€å±ç”¨æˆ·å’Œæ‰€å±ç»„ï¼Œä¸”æ‹¥æœ‰æ‰€å±ç”¨æˆ·æƒé™ï¼Œæ‰€å±ç»„æƒé™å’Œå…¶ä»–æƒé™3ç§ã€‚**
 æƒé™ä¸€èˆ¬åˆ†ä¸ºè¯»ï¼Œå†™ï¼Œæ‰§è¡Œ3ç§ï¼Œé€šè¿‡è¿™æ ·çš„æœºåˆ¶æ¥é™åˆ¶å“ªäº›ç”¨æˆ·æˆ–ç”¨æˆ·ç»„å¯ä»¥å¯¹ç‰¹å®šæ–‡ä»¶è¿›è¡Œç›¸åº”çš„æ“ä½œã€‚

| æƒé™    | å¯¹æ–‡ä»¶çš„å½±å“         | å¯¹ç›®å½•çš„å½±å“              |
| ------- | -------------------- | ------------------------- |
| r(è¯»)   | å¯è¯»å–æ–‡ä»¶å†…å®¹       | å¯åˆ—å‡ºç›®å½•ä¸­çš„æ–‡ä»¶(ls ll) |
| w(å†™)   | å¯ä¿®æ”¹æ–‡ä»¶å†…å®¹       | å¯åˆ›å»ºæˆ–åˆ é™¤ç›®å½•ä¸­çš„æ–‡ä»¶  |
| x(æ‰§è¡Œ) | å¯å°†æ–‡ä»¶åšä¸ºå‘½ä»¤æ‰§è¡Œ | å¯è¿›å…¥ç›®å½•(cd)            |

**ç›®å½•æœ‰xæƒé™æ‰å¯ä»¥cdè¿›å…¥è¯¥ç›®å½•ã€‚ç›®å½•æœ‰ræƒé™æ‰èƒ½åœ¨è¯¥ç›®å½•ä¸­ä½¿ç”¨llæˆ–è€…lsæŸ¥çœ‹ç›®å½•ã€‚ä¸€ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶èƒ½å¦è¢«åˆ é™¤æˆ–è€…åˆ›å»ºå–å†³äºè¯¥ç›®å½•æ˜¯å¦æœ‰wæƒé™ã€‚**

<img src="/img/in-post/20_07/03-01-02.png" alt="03-01-02.png" style="zoom:50%;" />

> åªè¦other æœ‰xæƒé™å°±å¯ä»¥æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¤¹

## æŸ¥çœ‹æ–‡ä»¶æƒé™

æ‰§è¡Œ`ll`å‘½ä»¤åæ˜¾ç¤ºå¦‚ä¸‹,æˆ‘ä»¬è§£è¯»ä¸€ä¸‹ï¼š


```css
drwxr-xr--  2 xiaoyu xiaoyu 4096 Feb 24 14:11 xiaoyu
-rw-r----- 1 root shadow 1.8K 1æœˆ  13 09:53 /etc/shadow
```

> ä»å·¦åˆ°å³å‘ç°ä¸€å…±æœ‰7æ®µï¼š
>
> 1. **æƒé™**ï¼šè¯¥æ®µä¸€å…±æœ‰10ä½ã€‚**ç¬¬ä¸€ä½å¦‚æœæ˜¯`d`ï¼Œåˆ™è¯´æ˜è¯¥æ–‡ä»¶ä¸ºç›®å½•ï¼Œå¦‚æœæ˜¯`-`åˆ™è¯´æ˜æ˜¯æ–‡ä»¶ã€‚å‰©ä½™9ä½3ä½ä¸€ç»„ï¼Œåˆ†ä¸º3ç»„ï¼Œåˆ†åˆ«å¯¹åº”`æ‰€å±ç”¨æˆ·æƒé™`ï¼Œ`æ‰€å±ç»„æƒé™`ï¼Œ`å…¶ä»–æƒé™`ã€‚**å¯ä»¥çœ‹å‡ºç”¨æˆ·æƒé™ä¸ºrwx,äºŒè¿›åˆ¶è¡¨ç¤ºä¸º`7`ã€‚ç»„æƒé™ä¸ºr-x,äºŒè¿›åˆ¶è¡¨ç¤ºä¸º5ã€‚å…¶ä»–æƒé™ä¸ºr--,äºŒè¿›åˆ¶è¡¨ç¤ºä¸º`4`ï¼Œç»„åˆä¸€èµ·è¯¥æ–‡ä»¶çš„æƒé™å°±æ˜¯`754`ã€‚
> 2. **è¿æ¥æ•°**
> 3. **æ‰€å±ç”¨æˆ·**ï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‰€å±ç”¨æˆ·æ˜¯xiaoyu
> 4. **æ‰€å±åˆ†ç»„**ï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‰€å±åˆ†ç»„æ˜¯xiaoyu
> 5. æ–‡ä»¶å¤§å°
> 6. æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´
> 7. æ–‡ä»¶åæˆ–è€…ç›®å½•å
>
> > ç°åœ¨è¿™ä¸ªæ–‡ä»¶çš„æ‰€å±è€…æ˜¯xiaoyu,æ‰€å±åˆ†ç»„æ˜¯xiaoyuã€‚
> >
> > `å½“å‰ç”¨æˆ·`å¦‚æœæ˜¯xiaoyuçš„è¯ï¼Œä¹Ÿå°±æ˜¯å…·æœ‰`æ‰€å±ç”¨æˆ·æƒé™`ï¼Œå…·æœ‰å¯¹è¯¥æ–‡ä»¶çš„rwxæƒé™ã€‚
> >
> > å¦‚æœå½“å‰ç”¨æˆ·ä¸æ˜¯xiaoyuçš„è¯ï¼Œåœ¨åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦å±äºxiaoyuåˆ†ç»„ï¼Œå¦‚æœå±äºxiaoyuåˆ†ç»„ï¼Œä¹Ÿå°±æ˜¯å…·æœ‰`æ‰€å±ç»„æƒé™`ï¼Œåˆ™å…·æœ‰å¯¹è¯¥æ–‡ä»¶çš„r-xæƒé™ã€‚
> >
> > å¦‚æœå½“å‰ç”¨æˆ·å³ä¸æ˜¯xiaoyuç”¨æˆ·ï¼Œä¹Ÿä¸å±äºxiaoyuåˆ†ç»„çš„è¯ï¼Œä¹Ÿå°±æ˜¯å…·æœ‰`å…¶ä»–æƒé™`ï¼Œåˆ™å…·æœ‰å¯¹æ–‡ä»¶çš„r--æƒé™ã€‚

## æ–‡ä»¶å¯ä»¥è¿è¡Œæ¡ä»¶

1. æƒé™åŠ ä¸Šx
2. #!/usr/bin/python3

## ä¿®æ”¹æ–‡ä»¶æƒé™

`chmod`å‘½ä»¤ç”¨äº**ä¿®æ”¹æ–‡ä»¶çš„ç”¨æˆ·æƒé™ã€‚**

### æ–¹æ³•ä¸€

`chmod u+r t1.py`

> u/g/o/a(all) + r/w/x filename

> å¦‚ï¼š
>
> `chmod u-r t1.py`
>
> `chmod ug+r t1.py`
>
> `chmod ug-rw t1.py`

### æ–¹æ³•äºŒ

`chmod 755 test.php`

> æ¯”å¦‚æ–‡ä»¶llå¦‚ä¸‹ï¼š
>
> ```bash
> drwx------  2 test   test   4096 Feb 19 14:47 test
> ```
>
> ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤
>
> ```css
> chmode 755 test.php
> ```
>
> testæ–‡ä»¶çš„æƒé™æ”¹ä¸º
>
> ```bash
> drwxr-xr-x  2 test   test   4096 Feb 19 14:47 test
> ```

## ä¿®æ”¹ç›®å½•æƒé™ â€” chmod

å¸¸ç”¨çš„å‚æ•°ä¸º`-R`,å¸¸ç”¨äº**ä¿®æ”¹ç›®å½•æƒé™**ï¼Œè¯¥å‚æ•°è¡¨ç¤º**ä¸ºè¯¥ç›®å½•ä»¥åŠç›®å½•ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶éƒ½ä¿®æ”¹ä¸ºç›¸åŒçš„æƒé™ã€‚**

```
chmod -R 777 test
```

## ä¿®æ”¹æ–‡ä»¶æ‰€å±ç”¨æˆ·å’Œæ‰€å±ç»„ â€” chown

`chown`å‘½ä»¤ç”¨äº**ä¿®æ”¹æ–‡ä»¶çš„æ‰€å±ç”¨æˆ·å’Œæ‰€å±ç»„**

```ruby
chown xiaoyu:xiaoyu test
```

> æ¯”å¦‚æ–‡ä»¶llå¦‚ä¸‹ï¼š
>
> ```bash
> drwx------  2 test   test   4096 Feb 19 14:47 test
> ```
>
> ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤
>
> ```bash
> chown xiaoyu:xiaoyu test
> ```
>
> å†æ¬¡æŸ¥çœ‹testæ–‡ä»¶
>
> ```bash
> drwx------  2 xiaoyu   xiaoyu   4096 Feb 19 14:47 test
> ```
>
> å¸¸ç”¨çš„å‚æ•°ä¸º`-R`,å¸¸ç”¨äºä¿®æ”¹ç›®å½•ï¼Œè¯¥å‚æ•°è¡¨ç¤ºä¸ºè¯¥ç›®å½•ä»¥åŠç›®å½•ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶éƒ½ä¿®æ”¹ä¸ºç›¸åŒçš„ç”¨æˆ·åŠç”¨æˆ·ç»„ã€‚
>
> ```bash
> chmod -R 777 test
> ```

## ç”¨æˆ·ç®¡ç†æ€»ç»“

- ä¸€ä¸ªç”¨æˆ·å¯ä»¥åŠ å…¥ä¸åŒçš„ç»„ï¼Œä½†æ˜¯æœ‰ä¸”åªæœ‰ä¸€ä¸ªåˆå§‹ç»„ã€‚
- ä¸€ä¸ªç”¨æˆ·çš„æƒé™ä¸ºä»–æ‰€å±çš„å¤šä¸ªç»„çš„**ç´¯åŠ æƒé™** ã€‚å‡è®¾userè´¦æˆ·é™„åŠ ç»„group1 = write group2 = read ï¼Œé‚£ä¹ˆuserå°±æ‹¥æœ‰ write + readæƒé™ã€‚
- ç»„å’Œç”¨æˆ·çš„å…³ç³»æ˜¯å¤šå¯¹å¤š ä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªç»„ï¼Œä¸€ä¸ªç»„ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·ã€‚

# è¿›ç¨‹

## åå°æ‰§è¡Œå‘½ä»¤

&
å½“åœ¨å‰å°è¿è¡ŒæŸä¸ªä½œä¸šæ—¶ï¼Œç»ˆç«¯è¢«è¯¥ä½œä¸šå æ®ï¼›å¯ä»¥åœ¨å‘½ä»¤åé¢åŠ ä¸Š& å®ç°åå°è¿è¡Œã€‚ä¾‹å¦‚ï¼šsh test.sh &

## æŸ¥çœ‹ã€ç­›é€‰è¿›ç¨‹

### æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€ â€” ps

`ps -ef |grep "diodon"`

`ps aux`

> PIDè¡¨ç¤ºè¿›ç¨‹çš„idï¼Œ%CPUã€%MEMåˆ†åˆ«è¡¨ç¤ºè¿›ç¨‹å ç”¨CPUå’Œå†…å­˜çš„æ¯”é‡ï¼ŒVSZè¡¨ç¤ºä½¿ç”¨æ‰çš„è™šæ‹Ÿå†…å­˜(KB)ï¼ŒRSSè¡¨ç¤ºå ç”¨çš„å›ºå®šå†…å­˜(KB)ï¼ŒTTè¡¨ç¤ºåœ¨å“ªä¸ªTerminalä¸Šæ‰§è¡Œï¼ŒSTATè¡¨ç¤ºè¯¥è¿›ç¨‹ç›®å‰çš„çŠ¶æ€ã€‚

### ç»ˆæ­¢è¿›ç¨‹ â€” kill

`kill -SignalNumber PID`

å¦‚: kill -9 PID



## åˆ é™¤æŸç”¨æˆ·è¿›ç¨‹

1. å…ˆç”¨â€œwhoâ€å‘½ä»¤æŸ¥è¯¢å½“å‰ç™»å½•çš„ç”¨æˆ·
2. ç„¶åç”¨â€œps -u ç”¨æˆ·åâ€å‘½ä»¤æŸ¥çœ‹è¯¥ç”¨æˆ·çš„pid
3. å†ä½¿ç”¨â€œkill pidâ€å‘½ä»¤ï¼Œæ€æ‰ä»–çš„sshdæˆ–è€…æ˜¯shellè¿›ç¨‹

# è¿œç¨‹

## sshé…ç½®

`sudo apt-get install openssh-server`

> åœ¨linuxè£…ä¸€ä¸ªserver(æœåŠ¡å™¨)

## å•ä¸ªæ–‡ä»¶æ‰§è¡Œ

`ssh stusun@192.168.31.31 python3 < testcode.py`

![image-20200823215400232](/img/in-post/20_07/image-20200823215400232.png)

## scpå‘½ä»¤

```
scp ~/Desktop/{a,b}.py morvan@192.168.0.114:~/Desktop
ssh morvan@192.168.0.114 "python3 ~/Desktop/a.py"
scp morvan@192.168.0.114:~/Desktop/b.py ~/Desktop/result    
```

## é¡¹ç›®è¿œç¨‹åŒæ­¥

æ–¹æ³•ä¸€ï¼šåœ¨linuxä¸Šè®¾ç½®å…±äº«æ–‡ä»¶å¤¹

æ–¹æ³•äºŒï¼šPycharmè¿œç¨‹æœåŠ¡

æ–¹æ³•ä¸‰ï¼švscodeçš„sshåè®®è¿œç¨‹æœåŠ¡

# ç¯å¢ƒå˜é‡

## æŸ¥çœ‹PATH

```
echo $PATH
```

## ä¿®æ”¹PATH

ä»¥æ·»åŠ mongodb serverä¸ºåˆ—

### ä¿®æ”¹æ–¹æ³•ä¸€

```
export PATH=/usr/local/mongodb/bin:$PATH
```

> //é…ç½®å®Œåå¯ä»¥é€šè¿‡echo $PATHæŸ¥çœ‹é…ç½®ç»“æœã€‚
> ç”Ÿæ•ˆæ–¹æ³•ï¼šç«‹å³ç”Ÿæ•ˆ
> æœ‰æ•ˆæœŸé™ï¼š**ä¸´æ—¶æ”¹å˜**ï¼Œåªèƒ½åœ¨å½“å‰çš„ç»ˆç«¯çª—å£ä¸­æœ‰æ•ˆï¼Œå½“å‰çª—å£å…³é—­åå°±ä¼šæ¢å¤åŸæœ‰çš„pathé…ç½®
> ç”¨æˆ·å±€é™ï¼šä»…å¯¹å½“å‰ç”¨æˆ·

### ä¿®æ”¹æ–¹æ³•äºŒ

é€šè¿‡ä¿®æ”¹.bashrcæ–‡ä»¶:
vim ~/.bashrc
//åœ¨æœ€åä¸€è¡Œæ·»ä¸Šï¼š

```ruby
export PATH=/usr/local/mongodb/bin:$PATH
```

> ç”Ÿæ•ˆæ–¹æ³•ï¼šï¼ˆæœ‰ä»¥ä¸‹ä¸¤ç§ï¼‰
> 1ã€å…³é—­å½“å‰ç»ˆç«¯çª—å£ï¼Œé‡æ–°æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯çª—å£å°±èƒ½ç”Ÿæ•ˆ
> 2ã€**è¾“å…¥â€œsource ~/.bashrcâ€å‘½ä»¤ï¼Œç«‹å³ç”Ÿæ•ˆ**
> æœ‰æ•ˆæœŸé™ï¼š**æ°¸ä¹…æœ‰æ•ˆ**
> ç”¨æˆ·å±€é™ï¼šä»…å¯¹å½“å‰ç”¨æˆ·

### ä¿®æ”¹æ–¹æ³•ä¸‰

é€šè¿‡ä¿®æ”¹profileæ–‡ä»¶:

```ruby
vim /etc/profile
//æ‰¾åˆ°è®¾ç½®PATHçš„è¡Œï¼Œæ·»åŠ 
export PATH=/usr/local/mongodb/bin:$PATH
```

> ç”Ÿæ•ˆæ–¹æ³•ï¼š
>
> 1. ç³»ç»Ÿé‡å¯
> 2. ç®€åŒ–å·¥ä½œï¼š å¦‚æœä¿®æ”¹äº†/etc/profileï¼Œé‚£ä¹ˆç¼–è¾‘ç»“æŸåæ‰§è¡Œsource profile æˆ–æ‰§è¡Œç‚¹å‘½ä»¤ï¼š./profileï¼ŒPATHçš„å€¼å°±ä¼šç«‹å³ç”Ÿæ•ˆäº†ã€‚
>
> æœ‰æ•ˆæœŸé™ï¼š**æ°¸ä¹…æœ‰æ•ˆ**
> ç”¨æˆ·å±€é™ï¼šå¯¹æ‰€æœ‰ç”¨æˆ·

### ä¿®æ”¹æ–¹æ³•å››

é€šè¿‡ä¿®æ”¹environmentæ–‡ä»¶:

```ruby
vim /etc/environment
//åœ¨PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin"ä¸­åŠ å…¥â€œ:/usr/local/mongodb/binâ€
```

> ç”Ÿæ•ˆæ–¹æ³•ï¼š**ç³»ç»Ÿé‡å¯**
> æœ‰æ•ˆæœŸé™ï¼š**æ°¸ä¹…æœ‰æ•ˆ**
> ç”¨æˆ·å±€é™ï¼šå¯¹æ‰€æœ‰ç”¨æˆ·

# Proxy

## proxyé…ç½®

### é…ç½®git proxy

- git config --global http.proxy 127.0.0.1:8001

### é…ç½®terminalä¸Šç½‘ç«¯å£

```
export https_proxy=http://127.0.0.1:8001
```

æˆ–

```
export https_proxy=http://127.0.0.1:8001 http_proxy=http://127.0.0.1:8001 all_proxy=socks5://127.0.0.1:1081
```

### é…ç½®wgetä¸‹è½½è½¯ä»¶

- wget https://download.pytorch.org/models/resnet50-19c8e357.pth -e use_proxy=yes -e http_proxy=127.0.0.1:8001


### reset

- unset https_proxy
unset http_proxy
unset all_proxy
env|grep -I proxy

## è¿œç¨‹æœåŠ¡å™¨

### jupyterè¿æ¥

- jupyter notebook

### visdomè¿æ¥

-  ssh -L 18097:127.0.0.1:8097 stusun@192.168.31.31
- python -m visdom.server



# å‚è€ƒ

[è«çƒ¦-Linuxæ•™ç¨‹](https://mofanpy.com/tutorials/others/linux-basic/share-folder/#Mac%20%E6%89%BE%E5%88%B0%E4%BA%91%E7%AB%AF%E7%9A%84%E5%88%86%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9)

[linuxä¸­å¤šç”¨æˆ·ä»¥åŠæƒé™çš„ç†è§£](https://www.jianshu.com/p/099c52138ca1)





























