---
layout: post
comments: 	true
mathjax: 	true
subtitle: 	"ç®—æ³•é€šç”¨æ¨¡æ¿æ•´ç†"
author: 	"SunQH"
header-img: "img/no-more.jpg"
tags:
  - summary
  - æ•°æ®ç»“æ„å’Œç®—æ³•
  - 

---

## äºŒåˆ†æŸ¥æ‰¾

### äºŒåˆ†æŸ¥æ‰¾æ¡†æ¶

- **åŸºæœ¬åŸç†**ï¼šæ ¹æ®ç›®æ ‡å€¼æ‰€å¤„çš„ä½ç½®å…±åˆ†ä¸ºä¸‰ç§æŸ¥æ‰¾æƒ…å†µï¼Œåˆ†åˆ«æ˜¯ï¼šæ‰¾ä»»æ„ä½ç½®ã€æ‰¾å·¦è¾¹ç•Œå’Œæ‰¾å³è¾¹ç•Œã€‚
- **å‡ºé¢˜å½¢å¼**: æœ‰åºæ•°ç»„ã€$log(n)$å¤æ‚åº¦ã€‚
- **åŸºæœ¬æ­¥éª¤**ï¼š
  1. å®šä¹‰å·¦å³æŒ‡é’ˆä¸ºæ•°ç»„ä¸¤ç«¯ã€‚
  2. å½“å·¦æŒ‡é’ˆå°äºå³æŒ‡é’ˆæ—¶ï¼Œéå†ï¼š
     1. ä¸­é—´æŒ‡é’ˆä¸º`(l+r)//2`ã€‚
     2. å¦‚æœä¸­é—´æŒ‡é’ˆå¤„æ•°å€¼å°äºç›®æ ‡å€¼ï¼Œæ”¶ç¼©æœç´¢åŒºé—´ä¸ºå³åŠéƒ¨åˆ†ï¼Œ
     3. å¦‚æœä¸­é—´æŒ‡é’ˆå¤„æ•°å€¼å¤§äºç›®æ ‡å€¼ï¼Œæ”¶ç¼©æœç´¢åŒºé—´ä¸ºå·¦åŠéƒ¨åˆ†ã€‚
     4. å¦‚æœä¸­é—´æŒ‡é’ˆå¤„æ•°å€¼ç­‰äºç›®æ ‡å€¼ï¼Œè¿”å›å½“å‰ä½ç½®ã€‚

- **æ‰¾ä¸­é—´æ¨¡æ¿**

```python
def binary_search(nums:List[int], target:int):
  l, r = 0, len(nums)-1
  while l <= r:
    mid = (l+r)//2
    if nums[mid] < target:
      l = mid + 1
    elif nums[mid] > target:
      r = mid - 1
    elif nums[mid] == target:
      return l
  return -1
```

- **æ‰¾å·¦è¾¹ç•Œæ¨¡æ¿**

```python
def left_bound(nums:List[int], target:int):
  l, r = 0, len(nums)-1
  while l <= r:
    mid = (l+r)//2
    if nums[mid] < target:
      l = mid + 1
    elif nums[mid] > target:
      r = mid - 1
    elif nums[mid] == target:
      r = mid - 1
  if l > len(nums)-1 or nums[l] != target:
	  return -1
  return l
```

- **æ‰¾å³è¾¹ç•Œæ¨¡æ¿**

```python
def right_bound(nums:List[int], target:int):
  l, r = 0, len(nums)-1
  while l <= r:
    mid = (l+r)//2
    if nums[mid] < target:
      l = mid + 1
    elif nums[mid] > target:
      r = mid - 1
    elif nums[mid] == target:
      l = mid + 1
  if r < 0 or nums[r] != target:
	  return -1
  return r
```

## åŠ¨æ€è§„åˆ’

### åŠ¨æ€è§„åˆ’æ¡†æ¶

- **åŸºæœ¬åŸç†**ï¼šä½¿ç”¨è‡ªåº•å‘ä¸Šä½¿ç”¨DPè¡¨æ¥æ¶ˆé™¤é‡å å­é—®é¢˜ï¼Œä»è€Œä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚
- **å‡ºé¢˜å½¢å¼**: ä¸€èˆ¬å½¢å¼å°±æ˜¯**æ±‚æœ€å€¼**ï¼Œå­˜åœ¨â€œé‡å å­é—®é¢˜â€æˆ–å­˜åœ¨â€œæœ€ä¼˜å­ç»“æ„â€ï¼ˆæ¯”å¦‚æ±‚æœ€â»“é€’å¢å­åºåˆ—ã€æœ€å°ç¼–è¾‘è·ç¦»ç­‰ï¼‰
- **åŸºæœ¬æ­¥éª¤:**
  1. ç¡®å®šé—®é¢˜çš„ **base case**ï¼ˆæœ€ç®€å•çš„æƒ…å†µï¼‰
  2. ç¡®å®šé—®é¢˜çš„ **çŠ¶æ€** ï¼ˆåŸé—®é¢˜å’Œå­é—®é¢˜ä¸­çš„å˜é‡ï¼‰
  3. ç¡®å®šé—®é¢˜çš„ **é€‰æ‹©** ï¼ˆå¯¼è‡´çŠ¶æ€å‘ç”Ÿå˜åŒ–çš„è¡Œä¸ºï¼‰
  4. ç¡®å®š **åŠ¨æ€è½¬ç§»æ–¹ç¨‹** çš„å®šä¹‰ ï¼ˆçŠ¶æ€å’Œé€‰æ‹©çš„å…³ç³»ï¼‰

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
dp = [[0] * len(s2) for _ in range(len(s1))]  # æ³¨æ„ï¼šæ˜¯å…ˆjåi
# ç¡®å®š base case
dp[0][0][...] = base case 
# ç¡®å®š çŠ¶æ€
for çŠ¶æ€1 in çŠ¶æ€1çš„å–å€¼:
	for çŠ¶æ€2 in çŠ¶æ€2çš„å–å€¼:
    # ç¡®å®š é€‰æ‹©
    # ç¡®å®š çŠ¶æ€è½¬ç§»æ–¹ç¨‹
    dp[çŠ¶æ€1][çŠ¶æ€2][...] = æ±‚æœ€å€¼(é€‰æ‹©1,é€‰æ‹©2,...)
```

## äºŒå‰æ ‘

### äºŒå‰æ ‘éå†æ¡†æ¶

- **åŸºæœ¬åŸç†:** æ˜ç¡®ä¸€ä¸ªèŠ‚ç‚¹è¦åšçš„äº‹æƒ…,ç„¶åå‰©ä¸‹çš„äº‹æŠ›ç»™æ¡†æ¶ã€‚
- **ç®—æ³•æ¡†æ¶**ï¼š

```python
class TreeNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None
        
def traverse(root) :
    if not root: return None
	  # èŠ‚ç‚¹ éœ€è¦åšä»€ä¹ˆåœ¨è¿™é‡Œåš, å…¶ä»–çš„äº¤ç»™æ¡†æ¶
    # ä½ çš„ä»»åŠ¡
    # å‰åºéå†ä½ç½®
    traverse(root.left)
    # ä¸­åºéå†ä½ç½®
    traverse(root.right)
    # ååºéå†ä½ç½®
```

```C
/* åŸºæœ¬çš„äºŒå‰æ ‘èŠ‚ç‚¹ */ 
class TreeNode {     
  int val;     
  TreeNode left, right; 
} 

void traverse(TreeNode root) {     
    // å‰åºéå†ä½ç½®    
    traverse(root.left)     
    // ä¸­åºéå†ä½ç½®    
    traverse(root.right)     
    // ååºéå†ä½ç½®
}
```

### **äºŒå‰æ•°çš„dfséå†ç¤ºä¾‹**

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
def binaryTreePaths(self, root: TreeNode) -> List[str]:
  if not root: return []
  ans = []
  path = ''

  def dfs(root, path):
    if root: 
      # do sth
      path+=str(root.val)
      # æ»¡è¶³æ¡ä»¶
      if not(root.left or root.right): 
        ans.append(path)
      # ä¸æ»¡è¶³ç»§ç»­å¾ªç¯
      else:
        path += '->'
        dfs(root.left, path)
        dfs(root.right, path)

    dfs(root,path)
    return ans
```

### **äºŒå‰æœç´¢æ ‘éå†æ¡†æ¶**

- **åŸºæœ¬åŸç†**ï¼šäºŒå‰æœç´¢æ ‘(Binary Search Tree)ä¸­ï¼Œä»»æ„èŠ‚ç‚¹çš„å€¼è¦**å¤§äºç­‰äº**å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼, ä¸”è¦**å°äºç­‰äº**å³è¾¹å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ã€‚

<img src="https://cdn.jsdelivr.net/gh/AIGoBig/PicRepo@master/2024/03/image-20210116112419058-0325694_20240315120153m5F2FP.png" alt="image-20210116112419058" style="zoom: 33%;" />

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
class TreeNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None
        
def BST(root:TreeNode, target:int):
  if root.val == target:
    # do something
  if root.val > target:
    BST(root.left, target)
  if root.val < target:
    BST(root.right, target)
```

- **ç®—æ³•æ¡†æ¶-C++ç‰ˆ**ï¼š

```c
/* åŸºæœ¬çš„äºŒå‰æ ‘èŠ‚ç‚¹ */ 
class TreeNode {     
  int val;     
  TreeNode left, right; 
} 

void BST(TreeNode root, int target) {     
  if (root.val == target)         
    // æ‰¾åˆ°ç›®æ ‡,åšç‚¹ä»€ä¹ˆ    
  if (root.val < target)         
    BST(root.right, target);     
  if (root.val > target)         
    BST(root.left, target); 
} 
```

### **N å‰æ ‘éå†æ¡†æ¶**

- **åŸºæœ¬åŸç†**ï¼šäºŒå‰æ ‘æ¡†æ¶å¯ä»¥æ‰©å±•ä¸º N å‰æ ‘çš„éå†æ¡†æ¶:
- **éå†æ¡†æ¶**ï¼š

```python
class TreeNode:
  def __init__(self, val, children):
    self.val = val
    self.children = chrildren
    
def traverse(root:TreeNode):
  for child in root.children:
    traverse(child)
```

```C
/* åŸºæœ¬çš„ N å‰æ ‘èŠ‚ç‚¹ */ 
class TreeNode {     
  int val;     
  TreeNode[] children; 
} 

void traverse(TreeNode root) {     
  for (TreeNode child : root.children)         
    traverse(child) 
}
```

### **å›¾éå†æ¡†æ¶**

- **åŸºæœ¬åŸç†**ï¼šN å‰æ ‘çš„éå†å¯ä»¥æ‰©å±•ä¸ºå›¾çš„éå†, å› ä¸ºå›¾å°±æ˜¯å¤šä¸ªNå‰æ£µæ ‘çš„ç»“åˆä½“, ç”¨å¸ƒå°”æ•°ç»„ `visited` æ ‡è®°ä»¥é˜²æ­¢é‡å¤è®¿é—®ã€‚

## é“¾è¡¨

### é“¾è¡¨éå†æ¡†æ¶

- **ç®—æ³•æ¡†æ¶-è¿­ä»£éå†+é€’å½’**ï¼š

```python
class ListNode:    
  def __init__(self, val=0, next=None):        
    self.val = val        
    self.next = next
  def traverse(head):		
    p = head    
    while p:            	
      # è¿­ä»£è®¿é—® p.val           	
      p = p.next
    def traverse(head):    
      # é€’å½’è®¿é—® head.val         
      traverse(head.next)
```

- **ç®—æ³•æ¡†æ¶-è¿­ä»£éå†+é€’å½’-C++ç‰ˆ**ï¼š

```c
/* åŸºæœ¬çš„å•é“¾è¡¨èŠ‚ç‚¹ */ 
class ListNode {     
    int val;     
    ListNode next; 
} 
void traverse(ListNode head) {     
    for (ListNode p = head; p != null; p = p.next) {         
        // è¿­ä»£è®¿é—® p.val     
    } 
} 
void traverse(ListNode head) {     
    // é€’å½’è®¿é—® head.val     
    traverse(head.next)
}
```

## æ·±åº¦ä¼˜å…ˆDFS

- **åŸºæœ¬åŸç†**ï¼šåœ¨forå¾ªç¯é‡Œè¿›è¡Œé€’å½’ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹å‰åšé€‰æ‹©ï¼Œåœ¨è°ƒç”¨ä¹‹åæ’¤é”€é€‰æ‹©ã€‚
- **åŸºæœ¬æ­¥éª¤**ï¼š
  1. è·¯å¾„**ï¼šå·²ç»åšçš„é€‰æ‹©**
  2. é€‰æ‹©åˆ—è¡¨ï¼šå½“å‰**å¯åšçš„é€‰æ‹©**
  3. ç»“æŸæ¡ä»¶ï¼šåˆ°è¾¾å†³ç­–æ ‘åº•å±‚ï¼Œ**æ— æ³•å†åšé€‰æ‹©çš„æ¡ä»¶**

### æ·±åº¦ä¼˜å…ˆéå†æ¡†æ¶

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
def backtrack(é€‰æ‹©åˆ—è¡¨, path):
	if æ»¡è¶³ç»“æŸæ¡ä»¶:
    result.add(path)
    return 
  
  for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
    path.append(é€‰æ‹©)
    backtrack(é€‰æ‹©åˆ—è¡¨, path)
    path.pop()

result = []
path = []
backtrack(é€‰æ‹©åˆ—è¡¨, path)
return result
```

### **å¸¦æœ‰visited çš„ æ·±åº¦ä¼˜å…ˆéå†æ¡†æ¶**

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
def DFS(é€‰æ‹©åˆ—è¡¨, path):
	if æ»¡è¶³ç»“æŸæ¡ä»¶:
    result.add(path)
    return 
  
  visited.add(start)
  for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:
    path.append(é€‰æ‹©)
    backtrack(é€‰æ‹©åˆ—è¡¨, path)
    path.pop()
  visited.remove(start)

visited = set()
result = []
path = []
DFS(é€‰æ‹©åˆ—è¡¨, path)
return result
```

### **äºŒå‰æ ‘çš„ æ·±åº¦ä¼˜å…ˆéå†ç¤ºä¾‹**ï¼š

- **åŸºæœ¬åŸç†**ï¼šæ­¤æ—¶çš„é€‰æ‹©åªæœ‰å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œè€Œä¸”æ— éœ€ç”¨ visited æ ‡è®°æ˜¯å¦è®¿é—®ã€‚
- **ç®—æ³•æ¡†æ¶**ï¼š

```python
def dfs(root, targetSum):        
    if not root:
        return   # æ³¨æ„ return  
    
    path.append(root.val)  # æ·»åŠ è·¯å¾„
    
    targetSum -= root.val
    if not root.left and not root.right and targetSum == 0: # å¦‚æœæ»¡è¶³æ¡ä»¶
        res.append(path[:])        
    
    dfs(root.left, targetSum)
    dfs(root.right, targetSum)
    
    path.pop()  						# æ³¨æ„è¦ å»æ‰è·¯å¾„

res = []
path = []
dfs(root,targetSum)
return res
```

## å®½åº¦ä¼˜å…ˆBFS

### å®½åº¦ä¼˜å…ˆéå†æ¡†æ¶

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
def BFS(start, target):
  q = []
  visited = {}
  
  q.append(start)  # é˜Ÿåˆ—queue
  visited.add(start)  # åƒäºŒå‰æ ‘ä¸€æ ·çš„ç»“æ„ï¼Œæ²¡æœ‰å­èŠ‚ç‚¹åˆ°çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä¸ä¼šèµ°å›å¤´è·¯ï¼Œå°±ä¸éœ€è¦visited
  step = 0
  
  while q:
    for _ in range(len(queue)):
      cur = q.pop(0)  # Notice is 0
      if cur is target:
        return step
      for x in cur.adj():  # å°† cur çš„ç›¸é‚»èŠ‚ç‚¹åŠ â¼Šé˜Ÿåˆ—
        if x not in visited:
          q.append(x)
          visited.add(x)
    step += 1  # éå†å®Œä¸€å±‚åstep++
      
```

- **ç®—æ³•æ¡†æ¶-C++ç‰ˆ**ï¼š

```c
// è®¡ç®—ä»èµ·ç‚¹ start åˆ°ç»ˆç‚¹ target çš„æœ€è¿‘è·ç¦»
int BFS(Node start, Node target) {
    Queue<Node> q;  // æ ¸â¼¼æ•°æ®ç»“æ„
    Set<Node> visited;  // é¿å…â¾›å›å¤´è·¯

    q.offer(start);  // å°†èµ·ç‚¹åŠ â¼Šé˜Ÿåˆ—
    visited.add(start);
    int step = 0;  // è®°å½•æ‰©æ•£çš„æ­¥æ•°

    while (q not empty) {
        int sz = q.size();
        /* å°†å½“å‰é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å‘å››å‘¨æ‰©æ•£ */
        for (int i = 0; i < sz; i++) {
            Node cur = q.poll();
            /* åˆ’é‡ç‚¹ï¼šè¿™â¾¥åˆ¤æ–­æ˜¯å¦åˆ°è¾¾ç»ˆç‚¹ */
            if (cur is target) 
                return step; 
            /* å°† cur çš„ç›¸é‚»èŠ‚ç‚¹åŠ â¼Šé˜Ÿåˆ— */ 
            for (Node x : cur.adj()) 
                if (x not in visited) { 
                    q.offer(x); 
                    visited.add(x); 
                } 
        }
        /* åˆ’é‡ç‚¹ï¼šæ›´æ–°æ­¥æ•°åœ¨è¿™â¾¥ */ 
        step++; 
    } 
}
```

## åŒæŒ‡é’ˆ

### **å¿«æ…¢æŒ‡é’ˆæ¡†æ¶** 

- **åŸºæœ¬åŸç†**ï¼š
- **å‡ºé¢˜å½¢å¼**ï¼š
  1. åˆ¤æ–­æ˜¯å¦æœ‰ç¯
  2. å¯»æ‰¾ç¯çš„èµ·å§‹èŠ‚ç‚¹

- **åŸºæœ¬æ­¥éª¤**ï¼š
  1. æ‰¾åˆ°ç›¸é‡èŠ‚ç‚¹
  2. è®©slowæŒ‡å‘head
  3. slowå’Œfastéƒ½ä¸€æ¬¡ä¸€æ­¥
  4. ç›¸é‡èŠ‚ç‚¹å³ä¸ºèµ·å§‹èŠ‚ç‚¹ï¼ˆåˆèµ°äº†k-mæ­¥ï¼‰
- **ç®—æ³•æ¡†æ¶**ï¼š

```python
slow = fast = head
while fast and fast.next:
  slow = slow.next
  fast = fast.next.next
  if fast == slow:
    return True
```

### **æ»‘åŠ¨çª—å£æ¡†æ¶**

- **åŸºæœ¬åŸç†**ï¼šä½¿ç”¨æ»‘åŠ¨çª—å£çš„æ–¹å¼å°†æšä¸¾çš„æ—¶é—´å¤æ‚åº¦ä» $O(N^2)$ å‡å°‘è‡³ $O(N)$ã€‚

  > ä¸ºä»€ä¹ˆæ˜¯ O(N) å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨æšä¸¾çš„è¿‡ç¨‹æ¯ä¸€æ­¥ä¸­ï¼Œã€Œå·¦æŒ‡é’ˆã€ä¼šå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®(ä¹Ÿå°±æ˜¯é¢˜ç›®ä¸­çš„ b)ï¼Œè€Œã€Œå³æŒ‡é’ˆã€ä¼šå‘å·¦ç§»åŠ¨è‹¥å¹²ä¸ªä½ç½®ï¼Œè¿™ä¸ªä¸æ•°ç»„çš„å…ƒç´ æœ‰å…³ï¼Œä½†æˆ‘ä»¬çŸ¥é“å®ƒä¸€å…±ä¼šç§»åŠ¨çš„ä½ç½®æ•°ä¸º O(N)ï¼Œå‡æ‘Šä¸‹æ¥ï¼Œæ¯æ¬¡ä¹Ÿå‘å·¦ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º O(N)ã€‚
  >
  > **å‚è€ƒé“¾æ¥**ï¼šhttps://leetcode-cn.com/problems/3sum/solution/san-shu-zhi-he-by-leetcode-solution/

- **å‡ºé¢˜å½¢å¼**ï¼šå½“æˆ‘ä»¬éœ€è¦æšä¸¾æ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å‘ç°éšç€ç¬¬ä¸€ä¸ªå…ƒç´ çš„é€’å¢ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯é€’å‡çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•ã€‚

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
def slidingWindow(s:str, t:str):
  need = set(c)
  window = set()
  
  left, right = 0, 0
  valid = 0  # æ³¨æ„

  while right < len(s):
    # å¢å¤§çª—å£
    c = s[right]
    window.add(s[right])
    right += 1
    print("window:", left, right)
    while ...:  # window needs shrink
      # ç¼©å°çª—å£
		  d = s[left]
      window.remove(s[left])
      left += 1
```



## æ’åºç®—æ³•

- **åŸºæœ¬åŸç†**ï¼š

  - å†’æ³¡æ’åºï¼šé€ä¸ªæ¯”è¾ƒï¼Œæœ€å¤§çš„åç§»
  - é€‰æ‹©æ’åºï¼šéå†é€‰æ‹©æœ€å°çš„ï¼Œæ”¾åˆ°æœ€å‰
  - æ’å…¥æ’åºï¼šå‘ç°å°æ•°å­—ï¼Œå‘å‰äº¤æ¢ï¼ˆæ ·æœ¬å°ä¸”åŸºæœ¬æœ‰åºæ—¶ï¼Œæ•ˆç‡è¾ƒé«˜ï¼Œæ•ˆæœå¥½ï¼‰
  - å¸Œå°”æ’åºï¼šæ”¹è¿›çš„æ’å…¥æ’åºï¼Œé—´éš”ç”±å¤§åˆ°å°æ’åº  
  - å½’å¹¶æ’åºï¼šæœ€åæƒ…å†µæ•ˆæœæœ€å¥½
  - å¿«é€Ÿæ’åºï¼šé€Ÿåº¦å¿«ï¼Œæ•ˆæœå¥½

  <img src="https://cdn.jsdelivr.net/gh/AIGoBig/PicRepo@master/2024/03/cde64bf682850738153e6c76dd3f6fb32201ce3c73c23415451da1eead9eb7cb-20190624173156-0426489_20240315120209JJHzC1.jpg" alt="20190624173156.jpg" style="zoom:50%;" />

- **å‡ºé¢˜å½¢å¼**ï¼šéœ€è¦é‡ç‚¹æŒæ¡å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€æ’å…¥æ’åºå’Œå†’æ³¡æ’åºã€‚

### å†’æ³¡æ’åºæ¡†æ¶

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
def bubbleSort(nums):
    for i in range(len(nums)):
        # Last i elements are already in place
        for j in range(len(nums)-i-1):
 							if nums[j] > nums[j+1]:
                nums[j], nums[j+1] = nums[j+1], nums[j]
```

### æ’å…¥æ’åºæ¡†æ¶

- **ç®—æ³•æ¡†æ¶**ï¼š

```python
class Solution:
    def sortArray(self, nums: List[int]) -> List[int]:
        for ind in range(1,len(nums)):
            i = ind
            while i > 0 and nums[i] < nums[i-1]:
                nums[i], nums[i-1] = nums[i-1], nums[i]
                i -= 1
        return nums
```

### å †æ’åºæ¡†æ¶

- **åŸºæœ¬åŸç†**ï¼š å…ˆå°†å¾…æ’åºçš„åºåˆ—å»ºæˆå¤§é¡¶å †ï¼Œä½¿å¾—æ¯ä¸ªçˆ¶èŠ‚ç‚¹çš„å…ƒç´ å¤§äºç­‰äºå®ƒçš„å­èŠ‚ç‚¹ã€‚æ­¤æ—¶æ•´ä¸ªåºåˆ—æœ€å¤§å€¼å³ä¸ºå †é¡¶å…ƒç´ ï¼Œæˆ‘ä»¬å°†å…¶ä¸æœ«å°¾å…ƒç´ äº¤æ¢ï¼Œä½¿æœ«å°¾å…ƒç´ ä¸ºæœ€å¤§å€¼ï¼Œç„¶åå†è°ƒæ•´å †é¡¶å…ƒç´ ä½¿å¾—å‰©ä¸‹çš„ n-1ä¸ªå…ƒç´ ä»ä¸ºå¤§æ ¹å †ï¼Œå†é‡å¤æ‰§è¡Œä»¥ä¸Šæ“ä½œæˆ‘ä»¬å³èƒ½å¾—åˆ°ä¸€ä¸ªæœ‰åºçš„åºåˆ—ã€‚
- **ç®—æ³•æ¡†æ¶**ï¼š

```python
# ä½¿ç”¨heapqè¿”å›topkä¸ªæ•°ç¤ºä¾‹
class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        counter = collections.Counter(nums)
        h = []
        for key, val in counter.items():
            heapq.heappush(h, (val, key))
            if len(h) > k:
                heapq.heappop(h)
        return [x[1] for x in h]
```

> **heapqåº“ä½¿ç”¨å‚è€ƒé“¾æ¥**ï¼šhttps://blog.csdn.net/brucewong0516/article/details/79042839
>
> - **heappush(heap,n)æ•°æ®å †å…¥**
>
>   ```python
>   #å®šä¹‰heapåˆ—è¡¨
>   In [6]: heap = []
>   #ä½¿ç”¨heapqåº“çš„heappushå‡½æ•°å°†æ•°æ®å †å…¥
>   In [7]: for i in data:
>      ...:     hq.heappush(heap,i)
>   ```
>
> - **heappop(heap)å°†æ•°ç»„å †ä¸­çš„æœ€å°å…ƒç´ å¼¹å‡º**
>
>   ```python
>   In [11]: hq.heappop(heap)
>   Out[11]: 0
>   
>   In [12]: hq.heappop(heap)
>   Out[12]: 0.5
>   ```
>
> - **heapify(heap) å°†heapå±æ€§å¼ºåˆ¶åº”ç”¨åˆ°ä»»æ„ä¸€ä¸ªåˆ—è¡¨**
>
>   > heapify å‡½æ•°å°†ä½¿ç”¨ä»»æ„åˆ—è¡¨ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”å°½å¯èƒ½å°‘çš„ç§»ä½æ“ä½œï¼Œï¼Œå°†å…¶è½¬åŒ–ä¸ºåˆæ³•çš„å †ã€‚å¦‚æœæ²¡æœ‰å»ºç«‹å †ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨heappushå’Œheappopå‰åº”è¯¥ä½¿ç”¨è¯¥å‡½æ•°ã€‚
>
>   ```python
>   In [13]: heap = [5,8,0,3,6,7,9,1,4,2]
>   
>   In [14]: hq.heapify(heap)
>   
>   In [15]: heap
>   Out[15]: [0, 1, 5, 3, 2, 7, 9, 8, 4, 6]
>   ```
>
> - **heapreplace(heapï¼Œn)å¼¹å‡ºæœ€å°çš„å…ƒç´ è¢«næ›¿ä»£**
>
>   ```python
>   In [17]: hq.heapreplace(heap,0.5)
>   Out[17]: 0
>   
>   In [18]: heap
>   Out[18]: [0.5, 1, 5, 3, 2, 7, 9, 8, 4, 6]
>   ```
>
> - **nlargest(n,iter)ã€nsmallest(n,iter)**
>
>   > heapqä¸­å‰©ä¸‹çš„ä¸¤ä¸ªå‡½æ•°nlargest(n.iter)å’Œnsmallest(n.iter)åˆ†åˆ«ç”¨æ¥å¯»æ‰¾ä»»ä½•å¯è¿­ä»£çš„å¯¹è±¡iterä¸­ç¬¬nå¤§æˆ–è€…ç¬¬nå°çš„å…ƒç´ ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨æ’åºï¼ˆsortedå‡½æ•°ï¼‰å’Œåˆ†ç‰‡è¿›è¡Œå®Œæˆã€‚
>
>   ```python
>   #è¿”å›ç¬¬ä¸€ä¸ªæœ€å¤§çš„æ•°
>   In [19]: hq.nlargest(1,heap)
>   Out[19]: [9]
>   #è¿”å›ç¬¬ä¸€ä¸ªæœ€å°çš„æ•°
>   In [20]: hq.nsmallest(1,heap)
>   Out[20]: [0.5]
>   ```

### å½’å¹¶æ’åº

- **åŸºæœ¬åŸç†**ï¼šå½’å¹¶æ’åºåˆ©ç”¨äº†**åˆ†æ²»**çš„æ€æƒ³æ¥å¯¹åºåˆ—è¿›è¡Œæ’åºã€‚å¯¹ä¸€ä¸ªé•¿ä¸º nçš„å¾…æ’åºçš„åºåˆ—ï¼š
- **åŸºæœ¬æ­¥éª¤**ï¼š
  1. æˆ‘ä»¬å°†å…¶åˆ†è§£æˆä¸¤ä¸ªé•¿åº¦ä¸º $\frac{n}{2}$çš„å­åºåˆ—ã€‚
  2. æ¯æ¬¡å…ˆé€’å½’è°ƒç”¨å‡½æ•°ä½¿ä¸¤ä¸ªå­åºåˆ—æœ‰åºï¼Œ
  3. ç„¶åæˆ‘ä»¬å†çº¿æ€§åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„å­åºåˆ—ä½¿æ•´ä¸ªåºåˆ—æœ‰åºã€‚

<img src="https://cdn.jsdelivr.net/gh/AIGoBig/PicRepo@master/2024/03/912_fig4-0426491_20240315120211wce9i4.gif" alt="fig4" style="zoom: 50%;" />

```python
class Solution:
    def merge_sort(self, nums, l, r):
        if l == r:
            return
        mid = (l + r) // 2
        self.merge_sort(nums, l, mid)
        self.merge_sort(nums, mid + 1, r)
        # ä¸¤ä¸ªæœ‰åºåˆ—è¡¨çš„å½’å¹¶
        tmp = []
        i, j = l, mid + 1
        while i <= mid or j <= r:
            if i > mid or (j <= r and nums[j] < nums[i]):  
                tmp.append(nums[j])
                j += 1
            else:
                tmp.append(nums[i])
                i += 1
        nums[l: r + 1] = tmp

    def sortArray(self, nums: List[int]) -> List[int]:
        self.merge_sort(nums, 0, len(nums) - 1)
        return nums
```

> **ç®—æ³•è§£é‡Š**ï¼šå®šä¹‰ `mergeSort(nums, l, r)` å‡½æ•°è¡¨ç¤ºå¯¹ nums æ•°ç»„é‡Œ [l,r] çš„éƒ¨åˆ†è¿›è¡Œæ’åºï¼Œæ•´ä¸ªå‡½æ•°æµç¨‹å¦‚ä¸‹ï¼š
>
> 1. é€’å½’è°ƒç”¨å‡½æ•° `mergeSort(nums, l, mid)` å¯¹ nums æ•°ç»„é‡Œ [l,mid] éƒ¨åˆ†è¿›è¡Œæ’åºã€‚
> 2. é€’å½’è°ƒç”¨å‡½æ•° `mergeSort(nums, mid + 1, r)` å¯¹ nums æ•°ç»„é‡Œ [mid+1,r] éƒ¨åˆ†è¿›è¡Œæ’åºã€‚
> 3. æ­¤æ—¶ nums æ•°ç»„é‡Œ [l,mid] å’Œ [mid+1,r] ä¸¤ä¸ªåŒºé—´å·²ç»æœ‰åºï¼Œæˆ‘ä»¬å¯¹ä¸¤ä¸ªæœ‰åºåŒºé—´**çº¿æ€§å½’å¹¶**å³å¯ä½¿ nums æ•°ç»„é‡Œ[l,r] çš„éƒ¨åˆ†æœ‰åºã€‚
>    1. çº¿æ€§å½’å¹¶çš„è¿‡ç¨‹å¹¶ä¸éš¾ç†è§£ï¼Œç”±äºä¸¤ä¸ªåŒºé—´å‡æœ‰åºï¼Œæ‰€ä»¥æˆ‘ä»¬ç»´æŠ¤**ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ j** è¡¨ç¤ºå½“å‰è€ƒè™‘åˆ° [l,mid] é‡Œçš„ç¬¬ iä¸ªä½ç½®å’Œ [mid+1,r] çš„ç¬¬ jä¸ªä½ç½®ã€‚
>    2. å¦‚æœ `nums[i] <= nums[j]` ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†nums[i] æ”¾å…¥ä¸´æ—¶æ•°ç»„ tmp ä¸­å¹¶è®© i += 1 ï¼Œå³æŒ‡é’ˆå¾€åç§»ã€‚ å¦åˆ™æˆ‘ä»¬å°±å°† nums[j] æ”¾å…¥ä¸´æ—¶æ•°ç»„ tmp ä¸­å¹¶è®© j += 1 ã€‚
>    3. å¦‚æœæœ‰ä¸€ä¸ªæŒ‡é’ˆå·²ç»ç§»åˆ°äº†åŒºé—´çš„**æœ«å°¾**ï¼Œé‚£ä¹ˆå°±æŠŠå¦ä¸€ä¸ªåŒºé—´é‡Œçš„æ•°æŒ‰é¡ºåºåŠ å…¥ tmp æ•°ç»„ä¸­å³å¯ã€‚
>    4. è¿™æ ·èƒ½ä¿è¯æˆ‘ä»¬æ¯æ¬¡éƒ½æ˜¯è®©ä¸¤ä¸ªåŒºé—´ä¸­è¾ƒå°çš„æ•°åŠ å…¥ä¸´æ—¶æ•°ç»„é‡Œï¼Œé‚£ä¹ˆæ•´ä¸ªå½’å¹¶è¿‡ç¨‹ç»“æŸå [l,r] å³ä¸ºæœ‰åºçš„ã€‚
>
> 4. å‡½æ•°é€’å½’è°ƒç”¨çš„å…¥å£ä¸º `mergeSort(nums, 0, nums.length - 1)`ï¼Œé€’å½’ç»“æŸå½“ä¸”ä»…å½“ `l >= r`ã€‚
>
> **æ—¶é—´å¤æ‚åº¦**ï¼š$O(nlogn)$ã€‚ç”±äºå½’å¹¶æ’åºæ¯æ¬¡éƒ½å°†å½“å‰å¾…æ’åºçš„åºåˆ—æŠ˜åŠæˆä¸¤ä¸ªå­åºåˆ—é€’å½’è°ƒç”¨ï¼Œç„¶åå†åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„å­åºåˆ—ï¼Œè€Œæ¯æ¬¡åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„å­åºåˆ—éœ€è¦ O(n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œåˆå¹¶æ¬¡æ•°ä¸º$log(n)$æ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ—å‡ºå½’å¹¶æ’åºè¿è¡Œæ—¶é—´ $T(n)$ çš„é€’å½’è¡¨è¾¾å¼ï¼š$T(n)=2T(2/n)+O(n)$ã€‚
>
> **ç©ºé—´å¤æ‚åº¦**ï¼š$O(n)$ã€‚æˆ‘ä»¬éœ€è¦é¢å¤– $O(n)$ ç©ºé—´çš„ tmp æ•°ç»„ï¼Œä¸”å½’å¹¶æ’åºé€’å½’è°ƒç”¨çš„å±‚æ•°æœ€æ·±ä¸ºnlognï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦é¢å¤–çš„ $O(logn)$ çš„æ ˆç©ºé—´ï¼Œæ‰€éœ€çš„ç©ºé—´å¤æ‚åº¦å³ä¸º$O(n+logn)=O(n)$.

### å¿«é€Ÿæ’åº

- **åŸºæœ¬åŸç†**ï¼šå¿«é€Ÿæ’åºç®—æ³•å…¶å®å¾ˆç®€å•ï¼Œé‡‡ç”¨**åˆ†æ²»ç­–ç•¥**ã€‚ä½¿ç”¨åˆ†æ²»æ³•æ¥æŠŠä¸€ä¸ªä¸²(list)åˆ†ä¸ºä¸¤ä¸ªå­ä¸²(sub-lists), å…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å‡æ¯”å¦ä¸€éƒ¨åˆ†çš„å…³é”®å­—å°,åˆ™å¯åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•ç»§ç»­è¿›è¡Œæ’åº,ä»¥è¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚
- **ç®—æ³•æ­¥éª¤**ï¼š
  1. ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ,ç§°ä¸º **â€œåŸºå‡†â€(pivot);** 
  2. **åˆ†åŒº(partition)**æ“ä½œï¼š é‡æ–°æ’åºæ•°åˆ—, æ¯”pivotå°çš„æ”¾åˆ°pivotå·¦è¾¹ï¼Œæ¯”pivotå¤§çš„æ”¾åˆ°pivotå³è¾¹ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹å,è¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚
  3. **é€’å½’åœ°(recursive)** æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åºã€‚

```python
class Solution:
    def sortArray(self, nums: List[int]) -> List[int]:
        def partition(nums, left_bound, right_bound):
          	# éšæœºç®—æ³•åŠ ä¸Šè¿™ä¸¤æ­¥
          	# pivot = random.randint(left_bound, right_bound)  
            # nums[pivot], nums[right_bound] = nums[right_bound], nums[pivot]
            pivot = nums[right_bound]
            l,r = left_bound, right_bound - 1
            while l <= r:
                while l <= r and nums[l] <= pivot:
                    l += 1
                while l <= r and nums[r] > pivot:
                    r -= 1
                if l < r:
                    nums[l], nums[r] = nums[r], nums[l]
            # æ³¨æ„è¦æŠŠè½´æ”¾åœ¨ä¸­é—´, å› ä¸ºæœ€åä¸€æ¬¡å¾ªç¯ä¸€å®šæ˜¯èµ°çš„l++ï¼Œå³å½“å‰lå’ŒræŒ‡å‘çš„æ˜¯å¤§å€¼ï¼Œäº’æ¢lå’Œé”šç‚¹
            nums[l], nums[right_bound] = nums[right_bound], nums[l]
            return l  
        def quick_sort(nums, left_bound, right_bound):
            if left_bound>=right_bound: 
                return
            mid = partition(nums, left_bound, right_bound)
            quick_sort(nums, left_bound, mid - 1)
            quick_sort(nums, mid + 1, right_bound) # æ³¨æ„æ˜¯mid+1

        quick_sort(nums, 0, len(nums)-1)
        return nums
```

> **æœ€åæƒ…å†µ**ï¼šå½“åˆ’åˆ†äº§ç”Ÿçš„ä¸¤ä¸ªå­é—®é¢˜åˆ†åˆ«åŒ…å« n-1 å’Œ 0 ä¸ªå…ƒç´ æ—¶ï¼Œ**æœ€åæƒ…å†µ**å‘ç”Ÿã€‚åˆ’åˆ†æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºÎ˜(ğ‘›)ï¼Œğ‘‡(0)=O(1)ï¼Œè¿™æ—¶ç®—æ³•è¿è¡Œæ—¶é—´çš„é€’å½’å¼ä¸º $ğ‘‡(ğ‘›)=ğ‘‡(ğ‘›âˆ’1)+ğ‘‡(0)+O(ğ‘›)=ğ‘‡(ğ‘›âˆ’1)+O(ğ‘›)$ï¼Œè§£ä¸º$ğ‘‡(ğ‘›)=O(ğ‘›^2)T(n)=O(n^2)$ã€‚
>
> **æœ€å¥½æƒ…å†µ**ï¼šå½“åˆ’åˆ†äº§ç”Ÿçš„ä¸¤ä¸ªå­é—®é¢˜åˆ†åˆ«åŒ…å«âŒŠğ‘›/2âŒ‹å’ŒâŒˆğ‘›/2âŒ‰âˆ’1ä¸ªå…ƒç´ æ—¶ï¼Œ**æœ€å¥½æƒ…å†µ**å‘ç”Ÿã€‚ç®—æ³•è¿è¡Œæ—¶é—´é€’å½’å¼ä¸º$ğ‘‡(ğ‘›)=2ğ‘‡(ğ‘›/2)+O(ğ‘›)$ï¼Œè§£ä¸º$ğ‘‡(ğ‘›)=O(ğ‘›lgğ‘›)$ã€‚
>
> **æ—¶é—´å¤æ‚åº¦**ï¼šå¹³å‡æƒ…å†µä¸‹å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(nlogn)$ï¼Œæœ€åæƒ…å†µæ˜¯$O(n^2)$ï¼Œä½†é€šè¿‡**éšæœºç®—æ³•å¯ä»¥é¿å…æœ€åæƒ…å†µ**ã€‚
>
> **ç©ºé—´å¤æ‚åº¦**ï¼šå¿«æ’çš„ç©ºé—´å¤æ‚åº¦$O(logn)$ã€‚å› ä¸ºå¿«æ’çš„å®ç°æ˜¯**é€’å½’è°ƒç”¨**çš„ï¼Œ è€Œä¸”æ¯æ¬¡å‡½æ•°è°ƒç”¨ä¸­åªä½¿ç”¨äº†å¸¸æ•°çš„ç©ºé—´ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ç­‰äºé€’å½’æ·±åº¦$O(logn)$ã€‚

