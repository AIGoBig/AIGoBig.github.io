---
layout: post
title: "使用正则表达式输出规则化文本"
subtitle: '配合Excel统计课程小组信息'
author: "Sun"
header-style: text
tags:
  - 文件操作
  - Python
---

> 本博客用于个人记录, 如有冒犯请联系我删除

## 使用正则表达式输出规则化文本


```python
import pandas as pd
```


```python
!pwd
```

    /Volumes/windows/pythonstudy/BestProj/MyJupyter


```python
text = """6崔宋祚，李建佳，袁浩，唐陆瑶，李飞锐，李同

6
周旭峰19021211221
赵志明19021211146
王东旭19021211210
李俊19021211337
翟文卓  19011210529
武川杰 19011210495

5于正洋,冯伟,陈大帆,郝泽华,邱子良

5
刘杭成 19171213807
赵逸群 19171213772
廖占    19011210342
单鼎丞 19171213864
马轲     19171213854

5郑亚楠,蔡晨溪,朱映雪,李胜男,柳一洋

6孙庆虎,董志东,雷东昌,鲁飞鸿,李康

5路凯,马兰,张祖磊,黎兰慧,惠子津

5
19021211329田彪
19171213843钱若浩
19171213888 党敏
19171213847陈世宇
19021211290张宇璇

6
19011210421 崔双栋
19011210445 钱瑞
19011210516 熊雷
19011210539 颜凌云
19011210569  杨汉雄
19131213327 许宁舟

5
19171213764	蒋小明
19171213865	杨攀泉
19171213765	李珺
19171213894	张迅华
19171213868	李林昊

"""
text
```




    '6崔宋祚，李建佳，袁浩，唐陆瑶，李飞锐，李同\n\n6\n周旭峰19021211221\n赵志明19021211146\n王东旭19021211210\n李俊19021211337\n翟文卓  19011210529\n武川杰 19011210495\n\n5于正洋,冯伟,陈大帆,郝泽华,邱子良\n\n5\n刘杭成 19171213807\n赵逸群 19171213772\n廖占    19011210342\n单鼎丞 19171213864\n马轲     19171213854\n\n5郑亚楠,蔡晨溪,朱映雪,李胜男,柳一洋\n\n6孙庆虎,董志东,雷东昌,鲁飞鸿,李康\n\n5路凯,马兰,张祖磊,黎兰慧,惠子津\n\n5\n19021211329田彪\n19171213843钱若浩\n19171213888 党敏\n19171213847陈世宇\n19021211290张宇璇\n\n6\n19011210421 崔双栋\n19011210445 钱瑞\n19011210516 熊雷\n19011210539 颜凌云\n19011210569  杨汉雄\n19131213327 许宁舟\n\n5\n19171213764\t蒋小明\n19171213865\t杨攀泉\n19171213765\t李珺\n19171213894\t张迅华\n19171213868\t李林昊\n\n'


```python
import re
```


```python
pattern = r'[0-9\t ]' # 加上r'[]'可以写一个以上, 去掉0-9,/t,空格
text_del_num = re.sub(pattern, '', text) 
text_del_num
```


    '崔宋祚，李建佳，袁浩，唐陆瑶，李飞锐，李同\n\n\n周旭峰\n赵志明\n王东旭\n李俊\n翟文卓\n武川杰\n\n于正洋,冯伟,陈大帆,郝泽华,邱子良\n\n\n刘杭成\n赵逸群\n廖占\n单鼎丞\n马轲\n\n郑亚楠,蔡晨溪,朱映雪,李胜男,柳一洋\n\n孙庆虎,董志东,雷东昌,鲁飞鸿,李康\n\n路凯,马兰,张祖磊,黎兰慧,惠子津\n\n\n田彪\n钱若浩\n党敏\n陈世宇\n张宇璇\n\n\n崔双栋\n钱瑞\n熊雷\n颜凌云\n杨汉雄\n许宁舟\n\n\n蒋小明\n杨攀泉\n李珺\n张迅华\n李林昊\n\n'




```python
text_del_num_comma = re.sub('[，,]', '\n', text_del_num)
text_del_num_comma
```


    '崔宋祚\n李建佳\n袁浩\n唐陆瑶\n李飞锐\n李同\n\n\n周旭峰\n赵志明\n王东旭\n李俊\n翟文卓\n武川杰\n\n于正洋\n冯伟\n陈大帆\n郝泽华\n邱子良\n\n\n刘杭成\n赵逸群\n廖占\n单鼎丞\n马轲\n\n郑亚楠\n蔡晨溪\n朱映雪\n李胜男\n柳一洋\n\n孙庆虎\n董志东\n雷东昌\n鲁飞鸿\n李康\n\n路凯\n马兰\n张祖磊\n黎兰慧\n惠子津\n\n\n田彪\n钱若浩\n党敏\n陈世宇\n张宇璇\n\n\n崔双栋\n钱瑞\n熊雷\n颜凌云\n杨汉雄\n许宁舟\n\n\n蒋小明\n杨攀泉\n李珺\n张迅华\n李林昊\n\n'




```python
text_replace2 = re.sub('\n\n\n', '\n\n', text_del_num_comma)
text_replace2
```


    '崔宋祚\n李建佳\n袁浩\n唐陆瑶\n李飞锐\n李同\n\n周旭峰\n赵志明\n王东旭\n李俊\n翟文卓\n武川杰\n\n于正洋\n冯伟\n陈大帆\n郝泽华\n邱子良\n\n刘杭成\n赵逸群\n廖占\n单鼎丞\n马轲\n\n郑亚楠\n蔡晨溪\n朱映雪\n李胜男\n柳一洋\n\n孙庆虎\n董志东\n雷东昌\n鲁飞鸿\n李康\n\n路凯\n马兰\n张祖磊\n黎兰慧\n惠子津\n\n田彪\n钱若浩\n党敏\n陈世宇\n张宇璇\n\n崔双栋\n钱瑞\n熊雷\n颜凌云\n杨汉雄\n许宁舟\n\n蒋小明\n杨攀泉\n李珺\n张迅华\n李林昊\n\n'




```python
print(text_replace2)
```

    崔宋祚
    李建佳
    袁浩
    唐陆瑶
    李飞锐
    李同
    
    周旭峰
    赵志明
    王东旭
    李俊
    翟文卓
    武川杰
    
    于正洋
    冯伟
    陈大帆
    郝泽华
    邱子良
    
    刘杭成
    赵逸群
    廖占
    单鼎丞
    马轲
    
    郑亚楠
    蔡晨溪
    朱映雪
    李胜男
    柳一洋
    
    孙庆虎
    董志东
    雷东昌
    鲁飞鸿
    李康
    
    路凯
    马兰
    张祖磊
    黎兰慧
    惠子津
    
    田彪
    钱若浩
    党敏
    陈世宇
    张宇璇
    
    崔双栋
    钱瑞
    熊雷
    颜凌云
    杨汉雄
    许宁舟
    
    蒋小明
    杨攀泉
    李珺
    张迅华
    李林昊


​    

```python
text_replace3 = re.sub('\n', '\t', text_replace2)
text_replace3 = re.sub('\t\t', '\n', text_replace3)
print(text_replace3)  # 可直接复制为文本格式然后再放入Excel即可
```

    崔宋祚	李建佳	袁浩	唐陆瑶	李飞锐	李同
    周旭峰	赵志明	王东旭	李俊	翟文卓	武川杰
    于正洋	冯伟	陈大帆	郝泽华	邱子良
    刘杭成	赵逸群	廖占	单鼎丞	马轲
    郑亚楠	蔡晨溪	朱映雪	李胜男	柳一洋
    孙庆虎	董志东	雷东昌	鲁飞鸿	李康
    路凯	马兰	张祖磊	黎兰慧	惠子津
    田彪	钱若浩	党敏	陈世宇	张宇璇
    崔双栋	钱瑞	熊雷	颜凌云	杨汉雄	许宁舟
    蒋小明	杨攀泉	李珺	张迅华	李林昊




```python
f=open(r"datasets/myfile/test.csv",'w')
f.write(text_replace3)
f.close()
```
